{"version":3,"sources":["actions/types.js","actions/postActions.js","actions/usersActions.js","actions/commentActions.js","actions/replyActions.js","actions/notificationActions.js","actions/likesActions.js","components/nav.js","components/about.js","components/sidebar.js","components/register.js","components/login.js","components/logout.js","components/account.js","components/newComment.js","components/likeButton.js","components/posts.js","components/userPosts.js","components/singlePost.js","components/newPost.js","components/updatePost.js","components/forgotPassword.js","components/resetPassword.js","components/rules.js","components/resources.js","components/searchPosts.js","components/notifications.js","components/newReply.js","components/commentReply.js","App.js","reducers/commentReducer.js","reducers/likesReducer.js","reducers/notificationReducer.js","reducers/postReducer.js","reducers/usersReducer.js","reducers/replyReducer.js","reducers/index.js","components/store.js","index.js"],"names":["FETCH_POSTS","FETCH_USER","FETCH_COMMENTS","FETCH_LIKES","FETCH_DISLIKES","FETCH_NOTIFICATIONS","FETCH_REPLIES","fetchPosts","dispatch","axios","method","url","then","res","type","payload","data","fetchUser","headers","localStorage","getItem","fetchComments","fetchReplies","fetchNotifications","fetchLikes","fetchDislikes","Navigation","props","history","useHistory","Navbar","expand","bg","variant","collapseOnSelect","Container","width","height","className","src","alt","Brand","as","Link","to","Toggle","aria-controls","Collapse","id","Nav","NavItem","Form","onSubmit","event","preventDefault","search","target","formSearch","value","replace","handleSearch","Group","controlId","Control","size","placeholder","authorization","About","Component","Sidebar","ListGroup","Item","Register","a","push","username","trim","email","password","console","log","handleSubmit","Label","required","Text","muted","aria-describedby","Button","Login","useState","setLoginStatus","alert","setAlert","alertType","setAlertType","alertText","setAlertText","status","token","setItem","go","response","useEffect","setTimeout","Alert","renderAlert","Logout","removeItem","Account","state","submission","this","setState","imageFile","imageUpload","files","formData","FormData","append","user","Media","image_file","Body","File","label","accept","name","connect","users","item","NewComment","comment","post","post_id","user_id","notification_type","comment_id","content","makeNotification","cols","comments","items","likes","dislikes","currentUserLike","filter","like","currentUserDislike","dislike","handleLike","Object","keys","length","handleDislike","style","margin","likesById","dislikesById","renderLikesAmount","color","onClick","icon","faArrowAltCircleUp","faArrowAltCircleDown","Posts","postsViewable","commentsViewable","repliesViewable","userIs","prevProps","renderNewComment","posts","Spinner","animation","date","formattedDate","require","moment","format","ReactHtmlParser","substr","reply_id","commentsById","commentUser","admin","handleDeleteComment","replyUser","handleDeleteReply","repliesById","replies","reply","map","renderDatePosted","date_posted","renderReplyButton","renderCommentEditButtons","renderReplies","slice","renderReplyEditButtons","userImage","display","flexDirection","renderProfileImage","renderLikeButtons","title","renderArticleContent","renderCommentsLength","renderComments","scrollHeight","scrollTop","clientHeight","onScroll","renderMorePosts","renderLoader","renderPostContent","notifications","UserPosts","match","params","compose","withRouter","SinglePost","modalToggle","postUsername","handleModalToggle","renderEditButtons","Modal","show","Dialog","Header","Title","Footer","handleDeletePost","NewPost","setValue","CKEditor","editor","ClassicEditor","onChange","e","getData","config","toolbar","UpdatePost","handleUpdatePost","defaultValue","handleChange","ResetPassword","useParams","Rules","Resources","href","SearchPosts","input","searchPosts","toLowerCase","JSON","stringify","includes","Notifications","button","setButton","notificationsViewable","setNotificationsViewable","loading","setLoading","notificationsByUser","notification","has_been_read","handleNotificationRead","notification_id","renderNotifications","newNotifications","textDecoration","renderMoreNotifications","renderNotificationsContainer","Popover","placement","Content","renderNotificationsCount","NewReply","renderNewReply","setAuthorization","loginMessage","userAuthenticated","Row","renderNotificationsButton","exact","path","initialState","action","combineReducers","likesReducer","middleware","thunk","store","createStore","rootReducer","applyMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c1185104.chunk.js","sourcesContent":["export const FETCH_POSTS = 'FETCH_POSTS'\nexport const FETCH_USER = 'FETCH_USER'\nexport const FETCH_COMMENTS = 'FETCH_COMMENTS'\nexport const FETCH_LIKES = 'FETCH_LIKES'\nexport const FETCH_DISLIKES = 'FETCH_DISLIKES'\nexport const FETCH_NOTIFICATIONS = 'FETCH_NOTIFICATIONS'\nexport const FETCH_REPLIES = 'FETCH_REPLIES'","import { FETCH_POSTS } from './types'\nimport axios from 'axios'\n\nexport const fetchPosts = () => dispatch => {\n  axios({\n    method: 'get',\n    url: '/api/posts',\n  })\n  .then(res => {\n    dispatch({\n      type: FETCH_POSTS,\n      payload: res.data\n    })\n  })\n}","import { FETCH_USER } from './types'\nimport axios from 'axios'\n\nexport const fetchUser = () => dispatch => {\n  axios({\n    method: 'get',\n    url: '/api/get_user',\n    headers: {\n      \"x-access-token\": localStorage.getItem(\"token\")\n    }\n  })\n  .then(res => {\n    dispatch({\n      type: FETCH_USER,\n      payload: res.data\n    })\n  })\n}","import { FETCH_COMMENTS } from './types'\nimport axios from 'axios'\n\nexport const fetchComments = () => dispatch => {\n  axios({\n    method: 'get',\n    url: '/api/comments',\n  })\n  .then(res => {\n    dispatch({\n      type: FETCH_COMMENTS,\n      payload: res.data\n    })\n  })\n}","import { FETCH_REPLIES } from './types'\nimport axios from 'axios'\n\nexport const fetchReplies = () => dispatch => {\n  axios({\n    method: 'get',\n    url: '/api/replies',\n  })\n  .then(res => {\n    dispatch({\n      type: FETCH_REPLIES,\n      payload: res.data\n    })\n  })\n}","import { FETCH_NOTIFICATIONS } from './types'\nimport axios from 'axios'\n\nexport const fetchNotifications = () => dispatch => {\n  axios({\n    method: 'get',\n    url: '/api/notifications',\n  })\n  .then(res => {\n    dispatch({\n      type: FETCH_NOTIFICATIONS,\n      payload: res.data\n    })\n  })\n}","import { FETCH_LIKES, FETCH_DISLIKES } from './types'\nimport axios from 'axios'\n\nexport const fetchLikes = () => dispatch => {\n  axios({\n    method: 'get',\n    url: '/api/likes',\n  })\n  .then(res => {\n    dispatch({\n      type: FETCH_LIKES,\n      payload: res.data\n    })\n  })\n}\n\nexport const fetchDislikes = () => dispatch => {\n  axios({\n    method: 'get',\n    url: '/api/dislikes',\n  })\n  .then(res => {\n    dispatch({\n      type: FETCH_DISLIKES,\n      payload: res.data\n    })\n  })\n}","import React, { Component } from 'react'\nimport '../main.css'\nimport { Link, useHistory } from \"react-router-dom\";\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport NavItem from 'react-bootstrap/NavItem';\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\n\nexport default function Navigation(props) {\n  const history = useHistory()\n\n  function renderNavbarAccountOptions() {\n    if(props.authorization) {\n      return(\n        <Nav>\n          <NavItem >\n            <Nav.Link as={Link} to=\"/new_post\">New Post</Nav.Link>\n          </NavItem>\n          {/* <img class=\"rounded-circle nav-user-img\" src=\"{{ get_image_file(current_user.image_file) }}\" alt=\"\"></img> */}\n          <NavItem>\n            <Nav.Link as={Link} to=\"/account\">Account</Nav.Link>\n          </NavItem>\n          <NavItem>\n            <Nav.Link as={Link} to=\"/logout\">Logout</Nav.Link>\n          </NavItem>\n        </Nav>\n      )\n    } else {\n      return(\n        <Nav>\n          <NavItem >\n            <Nav.Link as={Link} to=\"/login\">Login</Nav.Link>\n          </NavItem>\n          <NavItem>\n            <Nav.Link as={Link} to=\"/register\">Register</Nav.Link>\n          </NavItem>\n        </Nav>\n      )\n    }\n  }\n\n  function handleSearch(event) {\n    event.preventDefault()\n    const search = event.target.formSearch.value\n\n    history.replace(`/search/${search}`)\n  }\n\n  function renderSearchBar() {\n    return(\n      <Form className=\"form-inline justify-content-center\" onSubmit={(event) => handleSearch(event)}>\n        <Form.Group controlId=\"formSearch\">\n          <Form.Control \n            size=\"sm\"\n            type=\"search\" \n            placeholder=\"Search Posts\"\n          />\n        </Form.Group>\n      </Form>\n    )\n  }\n\n  return (\n    <div>\n      <Navbar expand=\"md\" bg=\"color\" variant=\"dark\" collapseOnSelect>\n        <Container>\n          <img\n            width={30}\n            height={30}\n            className=\"zencircle\"\n            src={`https://zennitapp.s3.amazonaws.com/zencircle.png`}\n            alt=\"zennit zen circle\"\n          />\n          <Navbar.Brand as={Link} className=\"mr-4\" to=\"/home\">Zennit</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"navbarToggle\" />\n          <Navbar.Collapse id=\"navbarToggle\">\n            <Nav className=\"mr-auto\">\n              <NavItem>\n                <Nav.Link as={Link} to=\"/home\">Home</Nav.Link>\n              </NavItem>\n              {/* <NavItem>\n                <Nav.Link as={Link} to=\"/about\">About</Nav.Link>\n              </NavItem> */}\n            </Nav>\n            {/* <!-- Navbar Right Side --> */}\n            {renderSearchBar()}\n            {renderNavbarAccountOptions()}\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport '../main.css'\n\nexport default class About extends Component {\n  render() {\n    return (\n      <div>\n        <h1>About Zennit</h1>\n        <div className=\"content-section\">\n          <h2>A communication platform for today's social zennist!</h2>\n          <p>Zennit was born out of an appreciation for online social discussion regarding Zen. Many Zen-enthusiast online-communities have started in places like: reddit and discord... however, these places did not capture the type of niche online presence that is demanded of such a controversial and perturbing topic. This forum is dedicated to the rigorous discussion of Zen and its related content.</p>\n          <p>To echo our reddit family motto: \"The self-nature is originally complete!\"</p>\n          <p>Zen, as we understand it here, was born of the Buddhist lineage of Bodhidharma, and has passed through the minds of the Song and Tang dynasty patriarchs, so as to fill our skulls with the enlightened brilliance of the true teaching of the Buddha.</p>\n          <p>This forum is not present as an online educational resource for the history of Zen, but the users here are often willing to share their knowledge with those who seek to understand Zen's dubious past.</p>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport Nav from 'react-bootstrap/Nav'\nimport NavItem from 'react-bootstrap/NavItem'\n\nexport default class Sidebar extends Component {\n  render() {\n    return (\n      <div className=\"col-md-4\">\n        <div className=\"content-section\">\n          <h3>Expedients</h3>\n          <div className='text-muted'>\n            <ListGroup>\n              <ListGroup.Item>\n                <Link to=\"/about\">About</Link>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Link to=\"/rules\">Rules</Link>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Link to=\"/resources\">Resources</Link>\n              </ListGroup.Item>\n              {/* <ListGroup.Item>\n                <Link to=\"/users_list\">Users</Link>\n              </ListGroup.Item> */}\n              {/* <ListGroup.Item>\n                <Link to=\"/about\">About</Link>\n              </ListGroup.Item> */}\n            </ListGroup>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { useState } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport '../main.css'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport axios from 'axios'\n\nexport default function Register(props) {\n  // const [value, setValue] = useState('')\n  const history = useHistory()\n\n  async function handleSubmit(event) {\n    event.preventDefault()\n    history.push(\"/login\")\n    const username = event.target.username.value.trim()\n    const email = event.target.email.value.trim()\n    const password = event.target.password.value\n\n    try {\n      const res = await axios({\n        method: 'post',\n        url: '/api/register',\n        data: {\n          username: username,\n          email: email,\n          password: password\n        }\n      })\n      console.log(res)\n    } catch (error) {\n      console.log(error)\n    }\n    \n  }\n  return (\n    <div>\n      <div className=\"content-section\">\n        <legend className=\"border-bottom mb-4\">Join Zennit!</legend>\n        <Form onSubmit={(event) => handleSubmit(event)}>\n          <Form.Group controlId=\"username\">\n            <Form.Label>Username</Form.Label>\n            <Form.Control required\n              size=\"lg\" \n              type=\"username\" \n              placeholder=\"Username\" />\n            <Form.Text id=\"passwordHelpBlock\" muted>\n                Your username must be shorter than 20 characters.\n            </Form.Text>\n          </Form.Group>\n\n          <Form.Group controlId=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control \n              required\n              size=\"lg\"\n              type=\"email\"\n              placeholder=\"Enter email\" />\n            <Form.Text className=\"text-muted\">\n              We'll never share your email with anyone else.\n            </Form.Text>\n          </Form.Group>\n\n          <Form.Group controlId=\"password\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control \n              required\n              size=\"lg\" \n              type=\"password\" \n              placeholder=\"Password\" \n              aria-describedby=\"passwordHelpBlock\" />\n            <Form.Text id=\"passwordHelpBlock\" muted>\n              Your password must be 8-20 characters long, contain letters and numbers, and\n              must not contain spaces, special characters, or emoji.\n            </Form.Text>\n          </Form.Group>\n          <Button variant=\"outline-info\" type=\"submit\">\n            Sign Up\n          </Button>\n        </Form>\n      </div>\n      <div className=\"border-top pt-3\">\n        <small className=\"text-muted\">\n          Already Have An Account? <Link className=\"ml-2\" to=\"/login\">Sign In</Link>\n        </small>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";  \nimport axios from 'axios'\n\nimport '../main.css'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\n\nexport default function Login() {\n  const [loginStatus, setLoginStatus] = useState(false)\n  const [alert, setAlert] = useState(false)\n  const [alertType, setAlertType] = useState('warning')\n  const [alertText, setAlertText] = useState('Something went wrong, please try again later!')\n  const history = useHistory()\n\n  useEffect(() => {\n      if(alert) {\n        setTimeout(() => {\n          setAlert(false)\n        }, 5000)\n      }\n  });\n\n  async function handleSubmit(event) {\n    event.preventDefault()\n    const email = event.target.email.value.trim()\n    const password = event.target.password.value\n\n    try {\n      const res = await axios({\n        method: 'post',\n        url: '/api/login',\n        data: {\n          email: email,\n          password: password\n        }\n      })\n      console.log(res)\n      if (res.status === 200) {\n        const token = res.data.token\n        localStorage.setItem(\"token\", \"Bearer \" + token)\n        localStorage.setItem(\"loginMessage\", true)\n        setLoginStatus(true)\n        history.replace(\"/\")\n        history.go(\"/\")\n      } else {\n        setLoginStatus(false)\n        setAlert(true)\n        setAlertType('warning')\n        setAlertText('Something went wrong, please try again later!')\n      }\n    } catch (error) {\n      setLoginStatus(false)\n      console.log(error.response)\n      if(error.response.status === 400) {\n        setAlert(true)\n        setAlertType('warning')\n        setAlertText('Incorrect Email or Password')\n      } else {\n        setAlert(true)\n        setAlertType('danger')\n        setAlertText('Something went wrong, please try again later!')\n      }\n    }\n    \n  }\n\n  function renderAlert() {\n    if(alert) {\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  return (\n    <div>\n      {renderAlert()}\n      <div className=\"content-section\">\n        <legend className=\"border-bottom mb-4\">Login</legend>\n        <Form onSubmit={(event) => handleSubmit(event)}>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control \n              required\n              size=\"lg\"\n              type=\"email\"\n              placeholder=\"Account Email\" />\n          </Form.Group>\n\n          <Form.Group controlId=\"password\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control \n              required\n              size=\"lg\" \n              type=\"password\" \n              placeholder=\"Account Password\" />\n          </Form.Group>\n            <Button variant=\"outline-info\" type=\"submit\">\n              Login\n            </Button>\n            <small className=\"text-muted ml-2\">\n              <Link to=\"/forgot_password\">Forgot Password?</Link>\n            </small>\n        </Form>\n      </div>\n      <div className=\"border-top pt-3\">\n        <small className=\"text-muted\">\n          Need An Account? <Link className=\"ml-2\" to=\"/register\">Sign Up Here!</Link>\n        </small>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Logout() {\n  const history = useHistory()\n\n  useEffect(() => {\n    runLogout()\n  });\n\n  function runLogout() {\n    localStorage.removeItem(\"token\")\n    localStorage.removeItem(\"loginMessage\")\n    history.push(\"/\")\n    history.go(\"/\")\n  }\n  return (\n    <div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fetchUser } from '../actions/usersActions'\n\nimport Media from 'react-bootstrap/Media'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\nimport '../main.css'\n\n\nclass Account extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      alert: false,\n      alertText: 'Something went wrong, please try again later!',\n      alertType: 'warning',\n      submission: false\n    }\n  }\n\n  // when component re-renders\n  componentDidUpdate() {\n    if(this.state.submission) {\n      this.props.fetchUser()\n      this.setState({\n        submission: false\n      })\n    }\n    if(this.state.alert) {\n      setTimeout(() => {\n        this.setState({\n          alert: false\n        })\n      }, 5000)\n    }\n  }\n\n  renderAlert() {\n    const {alert, alertText, alertType} = this.state\n\n    if(alert) {\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault()\n    const email = event.target.email.value.trim()\n    const username = event.target.username.value.trim()\n    const imageFile = event.target.imageUpload.files[0]\n    var formData = new FormData(event.target)\n    formData.append(\"username\", username)\n    formData.append(\"email\", email)\n    formData.append(\"image_file\", imageFile)\n    \n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\"),\n          'Content-Type': 'multipart/form-data'\n        },\n        method: 'post',\n        url: '/api/update_user',\n        data: formData\n      })\n      if (res.status === 200) {\n        this.setState({\n          alert: true,\n          alertType: 'success',\n          alertText: 'Successfully updated account info!',\n          submission: true\n        })\n      } else {\n        this.setState({\n          alert: true\n        })\n      }\n    } catch (error) {\n      if(error.response) {\n        console.log(error.response)\n        if(error.response.status === 400) {\n          this.setState({\n            alert: true,\n            alertType: 'danger',\n            alertText: 'There was an issue updating your information, please try again later!'\n          })\n        } else if(error.response.status === 500) {\n          this.setState({\n            alert: true\n          })\n        }\n      } else {\n        this.setState({\n          alert: true\n        })\n      }\n    }\n    \n  }\n\n  render() {\n    const {user} = this.props\n    return (\n      <div>\n        {this.renderAlert()}\n        <div className=\"content-section\">\n          <Media>\n            <img\n              width={64}\n              height={64}\n              className=\"rounded-circle account-img\"\n              src={`https://zennitapp.s3.amazonaws.com/${user.image_file}`}\n              alt=\"Current User Profile Avatar\"\n            />\n            <Media.Body>\n              <h2 className=\"account-heading\">{user.username}</h2>\n              <p className=\"text-secondary\">{user.email}</p>\n            </Media.Body>\n          </Media>\n          <legend className=\"border-bottom mb-4\">Account Info</legend>\n          <Form onSubmit={(event) => this.handleSubmit(event)}>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Email</Form.Label>\n              <Form.Control \n                size=\"lg\"\n                type=\"email\"\n                placeholder=\"New Email\" />\n            </Form.Group>\n\n            <Form.Group controlId=\"username\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control \n                size=\"lg\" \n                type=\"username\" \n                placeholder=\"New Username\" />\n              <Form.Text id=\"passwordHelpBlock\" muted>\n                Your username must be shorter than 20 characters.\n              </Form.Text>\n            </Form.Group>\n            <Form.Group>\n              <Form.File id=\"imageUpload\" label=\"Update Profile Picture\" accept=\".png, .jpg, .jpeg\" aria-describedby=\"imageHelpBlock\" name=\"image_file\" />\n              <Form.Text id=\"imagedHelpBlock\" muted>\n                Your image must be a common format such as: .png .jpg .jpeg\n              </Form.Text>\n            </Form.Group>\n            <Button variant=\"outline-info\" type=\"submit\">\n              Update\n            </Button>\n          </Form>\n        </div>\n      </div>\n    )\n  }\n}\n\nAccount.propTypes = {\n  fetchUser: Proptypes.func.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  user: state.users.item\n})\n\nexport default connect(mapStateToProps, { fetchUser })(Account)\n","import React, { Component } from 'react'\nimport axios from 'axios'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fetchComments } from '../actions/commentActions'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\nimport Media from 'react-bootstrap/Media'\nimport Row from 'react-bootstrap/Row'\nimport '../main.css'\n\nclass NewComment extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      alert: false,\n      alertType: 'warning',\n      alertText: 'Something went wrong, please try again later!'\n    }\n  }\n\n  async makeNotification(data) {\n    const comment = data.id\n    const post = data.post_id\n    const user = data.user_id\n\n    try {\n      const res = await axios({\n        method: 'post',\n        url: '/api/new_notification',\n        data: {\n          notification_type: 'comment',\n          user_id: user,\n          post_id: post,\n          comment_id: comment\n        }\n      })\n      // if (res.status === 201) {\n      //   console.log('success new notification')\n      // }\n    } catch(error) {\n      console.log(error)\n    }\n  }\n\n  async handleSubmit(event) {\n    const {post} = this.props\n    const content = event.target.comment.value.trim()\n\n    event.preventDefault()\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/new_comment',\n        data: {\n          post_id: post,\n          content: content\n        }\n      })\n      if (res.status === 201) {\n        this.props.fetchComments()\n        this.makeNotification(res.data)\n        this.setState({\n          alert: true,\n          alertType: 'success',\n          alertText: 'Comment Successfully Created!'\n        })\n      } else {\n        this.setState({\n          alert: true\n        })\n      }\n    } catch (error) {\n      if(error.response) {\n        console.log(error.response)\n        if(error.response.status === 400) {\n          this.setState({\n            alert: true,\n            alertType: 'warning',\n            alertText: 'Please login to comment!'\n          })\n        } else if(error.response.status === 500) {\n          this.setState({\n            alert: true,\n            alertType: 'warning',\n            alertText: 'Something went wrong, please try again later!'\n          })\n        }\n      } else {\n        this.setState({\n          alert: true,\n          alertType: 'warning',\n          alertText: 'Something went wrong, please try again later!'\n        })\n      }\n    }\n  }\n\n  renderAlert() {\n    const {alert, alertText, alertType} = this.state\n\n    if(alert) {\n      setTimeout(() => {\n        this.setState({\n          alert: false,\n          alertType: 'warning',\n          alertText: 'Please login to comment!'\n        })\n      }, 5000)\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  render() {\n    const {user} = this.props\n\n    return (\n      <div className=\"py-3\">\n        {this.renderAlert()}\n        <Media>\n          <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${user.image_file}`}\n            alt=\"current user\" \n          />\n          <Form onSubmit={(event) => this.handleSubmit(event)}>\n            <Form.Group controlId=\"comment\">\n              <Form.Control\n                required\n                as=\"textarea\"\n                size=\"md\"\n                cols=\"50\"\n                type=\"comment\" \n                placeholder=\"Expound the dharma...\" />\n            </Form.Group>\n            <Button variant=\"outline-info\" type=\"submit\">\n              Comment\n            </Button>\n          </Form>\n        </Media>\n      </div>\n    )\n  }\n}\n\nNewComment.propTypes = {\n  fetchComments: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  comments: state.comments.items\n})\n\nexport default connect(mapStateToProps, { fetchComments })(NewComment)\n","import React, { useState, useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faArrowAltCircleUp, faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons'\nimport axios from 'axios';\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fetchLikes, fetchDislikes } from '../actions/likesActions'\nimport { fetchUser } from '../actions/usersActions'\n\n\nfunction LikeButton(props) {\n  const {likes, dislikes, user, post} = props\n\n  const currentUserLike = likes.filter((like) => {\n    if(like.user_id === user.id && like.post_id === post) {\n      return true\n    }\n  })\n  const currentUserDislike = dislikes.filter((dislike) => {\n    if(dislike.user_id === user.id && dislike.post_id === post) {\n      return true\n    }\n  })\n\n  function renderLikesAmount() {\n    const {likes, dislikes, post} = props\n    const likesById = likes.filter((like) => {\n      if(like.post_id == post) {\n        return true\n      }\n    })\n    const dislikesById = dislikes.filter((dislike) => {\n      if(dislike.post_id == post) {\n        return true\n      }\n    })\n    const amount = likesById.length - dislikesById.length\n\n\n    return amount\n  }\n\n  async function handleLike() {\n    const {post, fetchLikes, fetchDislikes} = props\n\n    if(Object.keys(currentUserLike).length === 0 || Object.keys(currentUserDislike).length !== 0) {\n      try {\n        const res = await axios({\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\")\n          },\n          method: 'post',\n          url: '/api/add_like',\n          data: {\n            post_id: post\n          }\n        })\n        if(res.status === 201) {\n          fetchLikes()\n          fetchDislikes()\n          fetchUser()\n        }\n      } catch(error) {\n        console.log(error)\n      }\n    }\n    if(Object.keys(currentUserLike).length !== 0) {\n      try {\n        const res = await axios({\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\")\n          },\n          method: 'post',\n          url: '/api/remove_like'\n        })\n        if(res.status === 200) {\n          fetchLikes()\n          fetchDislikes()\n          fetchUser()\n        }\n      } catch(error) {\n        console.log(error)\n      }\n    }\n    if(Object.keys(currentUserDislike).length !== 0) {\n      try {\n        const res = await axios({\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\")\n          },\n          method: 'post',\n          url: '/api/remove_dislike'\n        })\n        if(res.status === 200) {\n          fetchLikes()\n          fetchDislikes()\n          fetchUser()\n        }\n      } catch(error) {\n        console.log(error)\n      }\n    }\n  }\n\n  async function handleDislike() {\n    const {post, fetchLikes, fetchDislikes} = props\n\n    if(Object.keys(currentUserDislike).length === 0 || Object.keys(currentUserLike).length !== 0) {\n      try {\n        const res = await axios({\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\")\n          },\n          method: 'post',\n          url: '/api/add_dislike',\n          data: {\n            post_id: post\n          }\n        })\n        if(res.status === 201) {\n          fetchLikes()\n          fetchDislikes()\n          fetchUser()\n        }\n      } catch(error) {\n        console.log(error)\n      }\n    }\n    if(Object.keys(currentUserDislike).length !== 0) {\n      try {\n        const res = await axios({\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\")\n          },\n          method: 'post',\n          url: '/api/remove_dislike'\n        })\n        if(res.status === 200) {\n          fetchLikes()\n          fetchDislikes()\n          fetchUser()\n        }\n      } catch(error) {\n        console.log(error)\n      }\n    }\n    if(Object.keys(currentUserLike).length !== 0) {\n      try {\n        const res = await axios({\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\")\n          },\n          method: 'post',\n          url: '/api/remove_like'\n        })\n        if(res.status === 200) {\n          fetchLikes()\n          fetchDislikes()\n          fetchUser()\n        }\n      } catch(error) {\n        console.log(error)\n      }\n    }\n  }\n\n  function renderLikeButtons() {\n\n    if(Object.keys(currentUserLike).length !== 0) {\n      return(\n        <div className=\"like-buttons\">\n          <div style={{color: 'purple'}} onClick={() => handleLike()}><FontAwesomeIcon icon={faArrowAltCircleUp} size=\"2x\" /></div>\n          <div onClick={() => handleDislike()}><FontAwesomeIcon icon={faArrowAltCircleDown} size=\"2x\" /></div>\n        </div>\n      )\n    } else if(Object.keys(currentUserDislike).length !== 0) {\n      return(\n        <div className=\"like-buttons\">\n          <div onClick={() => handleLike()}><FontAwesomeIcon icon={faArrowAltCircleUp} size=\"2x\" /></div>\n          <div style={{color: 'purple'}} onClick={() => handleDislike()}><FontAwesomeIcon icon={faArrowAltCircleDown} size=\"2x\" /></div>\n        </div>\n      )\n    } else {\n      return(\n        <div className=\"like-buttons\">\n          <div onClick={() => handleLike()}><FontAwesomeIcon icon={faArrowAltCircleUp} size=\"2x\" /></div>\n          <div onClick={() => handleDislike()}><FontAwesomeIcon icon={faArrowAltCircleDown} size=\"2x\" /></div>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <div>\n      <div style={{margin: '17px'}}>\n        {renderLikesAmount()}\n      </div>\n      {renderLikeButtons()}\n    </div>\n  )\n}\n\nLikeButton.propTypes = {\n  fetchLikes: Proptypes.func.isRequired,\n  likes: Proptypes.array.isRequired,\n  fetchDislikes: Proptypes.func.isRequired,\n  dislikes: Proptypes.array.isRequired,\n  fetchUser: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  likes: state.likes.likes,\n  dislikes: state.likes.dislikes,\n  user: state.users.item,\n})\n\nexport default connect(mapStateToProps, { fetchLikes, fetchDislikes, fetchUser })(LikeButton)\n","import React, { Component } from 'react'\nimport { HashLink as Link } from 'react-router-hash-link'\nimport axios from 'axios'\n\nimport ReactHtmlParser from 'react-html-parser'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fetchPosts } from '../actions/postActions'\nimport { fetchUser } from '../actions/usersActions'\nimport { fetchComments } from '../actions/commentActions'\nimport { fetchReplies } from '../actions/replyActions'\nimport { fetchNotifications } from '../actions/notificationActions'\n\nimport NewComment from './newComment.js'\nimport LikeButton from './likeButton.js'\n\nimport Media from 'react-bootstrap/Media'\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/Spinner'\nimport '../main.css'\n\nclass Posts extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      postsViewable: 6,\n      commentsViewable: 2,\n      repliesViewable: 2,\n      userIs: false\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {user, fetchUser, authorization} = this.props\n\n    if(prevProps.authorization !== authorization) {\n      fetchUser()\n    }\n    \n    if(prevProps.user !== user) {\n      this.renderNewComment()\n    }\n  }\n\n  renderLoader() {\n    const {posts} = this.props\n\n    if(Object.keys(posts).length === 0) {\n      return(\n        <Spinner animation=\"border\" style={{margin: '30px'}} />\n      )\n    }\n  }\n\n  renderDatePosted(date) {\n    var moment = require('moment')\n    const formattedDate = moment(date).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")\n\n    return <small className=\"text-muted\">{formattedDate}</small>\n  }\n\n  renderArticleContent(content, id) {\n    if (content.length > 1000) {\n      return(\n        <div>\n          <div className=\"article-content\">{ReactHtmlParser(content.substr(0, 1000))}</div>\n          <Link className=\"mr-2\" to={`/post/${id}`}>Read More</Link>\n        </div>\n      )\n    } else {\n      return(\n          <div className=\"article-content\">{ReactHtmlParser(content)}</div>\n      )\n    }\n  }\n\n  async handleDeleteComment(id) {\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_comment',\n        data: {\n          comment_id: id\n        }\n      })\n      if (res.status === 200) {\n        this.props.fetchComments()\n      }\n    } catch (error) {\n      console.log(error.response)\n    }\n  }\n\n  async handleDeleteReply(id) {\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_reply',\n        data: {\n          reply_id: id\n        }\n      })\n      if (res.status === 200) {\n        this.props.fetchReplies()\n      }\n    } catch (error) {\n      console.log(error.response)\n    }\n  }\n\n  renderNewComment(post) {\n    const {user} = this.props\n\n      if(Object.keys(user).length !== 0) {\n        return(\n          <NewComment post={post} user={user} />\n        )\n      }\n  }\n\n  renderCommentsLength(post) {\n    const {comments} = this.props\n    const commentsById = comments.filter((comment) => {\n      if(comment.post_id == post) {\n        return true\n      }\n    })\n    return(\n      <div>\n        <Link to={`/post/${post}#comment-length`}>Comments({commentsById.length})</Link>\n      </div>\n    )\n  }\n\n  renderCommentEditButtons(commentUser, id) {\n    const {user} = this.props\n\n    if(user.username === commentUser || user.admin === true) {\n      return <Button className=\"ml-auto delete-comment\" onClick={() => this.handleDeleteComment(id)} variant=\"outline-danger\" size=\"sm\"><span>&times;</span></Button>\n    }\n  }\n\n  renderReplyEditButtons(replyUser, id) {\n    const {user} = this.props\n\n    if(user.username === replyUser || user.admin === true) {\n      return <Button className=\"ml-auto delete-comment\" onClick={() => this.handleDeleteReply(id)} variant=\"outline-danger\" size=\"sm\"><span>&times;</span></Button>\n    }\n  }\n\n  renderReplyButton(comment_id, post) {\n    const {replies} = this.props\n    const repliesById = replies.filter((reply) => {\n      if(reply.comment_id == comment_id) {\n        return true\n      }\n    })\n\n    return(\n      <Link className=\"ml-auto px-2\" to={`/post/${post}/comment/${comment_id}`}>Replies({repliesById.length})</Link>\n    )\n  }\n\n  renderComments(post) {\n    const {comments} = this.props\n    const {commentsViewable} = this.state\n    const commentsById = comments.filter((comment) => {\n      if(comment.post_id == post) {\n        return true\n      }\n    })\n\n    const commentsByPost = commentsById.map(comment => (\n      <div key={comment.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content\">\n          <div className=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${comment.users.username}`}>{comment.users.username}</Link>\n            {this.renderDatePosted(comment.date_posted)}\n            {this.renderReplyButton(comment.id, post)}\n            {this.renderCommentEditButtons(comment.users.username, comment.id)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{comment.content}</p>\n        </div>\n        {this.renderReplies(comment.id)}\n      </div>\n    ))\n    \n    return commentsByPost.slice(0, commentsViewable)\n  }\n\n  renderReplies(comment) {\n    const {replies} = this.props\n    const {repliesViewable} = this.state\n    const repliesById = replies.filter((reply) => {\n      if(reply.comment_id == comment) {\n        return true\n      }\n    })\n\n    const repliesByComment = repliesById.map(reply => (\n      <div key={reply.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content ml-5\">\n          <div className=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${reply.users.username}`}>{reply.users.username}</Link>\n            {this.renderDatePosted(reply.date_posted)}\n            {this.renderReplyEditButtons(reply.users.username, reply.id)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{reply.content}</p>\n        </div>\n      </div>\n    ))\n    \n    return repliesByComment.slice(0, repliesViewable)\n  }\n\n  renderProfileImage(userImage) {\n    return <img className=\"rounded-circle article-img\" src={`https://zennitapp.s3.amazonaws.com/${userImage}`} alt=\"\" />\n  }\n\n  renderLikeButtons(post) {\n    const {user} = this.props\n    if(Object.keys(user).length !== 0) {\n      return(\n        <LikeButton post={post.id}/>\n      )\n    }\n  }\n\n  renderPostContent() {\n    const {postsViewable} = this.state\n    const postItems = this.props.posts.map(post => (\n      <div key={post.id}>\n        <Media className=\"content-section\">\n          <div style={{display: 'flex', flexDirection: 'column'}}>\n            {this.renderProfileImage(post.users.image_file)}\n            {this.renderLikeButtons(post)}\n          </div>\n          <Media.Body>\n            <div className=\"article-metadata\">\n              <Link className=\"mr-2\" to={`/user_posts/${post.users.username}`}>{post.users.username}</Link>\n              {this.renderDatePosted(post.date_posted)}\n            </div>\n            <h2><Link className=\"article-title\" to={`/post/${post.id}`}>{post.title}</Link></h2>\n            <hr />\n            {this.renderArticleContent(post.content, post.id)}\n          </Media.Body>\n        </Media>\n        {this.renderCommentsLength(post.id)}\n        {this.renderNewComment(post.id)}\n        {this.renderComments(post.id)}\n        <hr />\n      </div>\n      ))\n    return postItems.slice(0, postsViewable)\n  }\n\n  renderMorePosts(event) {\n    const target = event.target\n    const {postsViewable} = this.state\n\n    if(target.scrollHeight - target.scrollTop === target.clientHeight) {\n      this.setState({\n        postsViewable: postsViewable + 2\n      }, () => {console.log(postsViewable)})\n    }\n  }\n\n  render() {\n    \n    return (\n      <div>\n        <div className=\"scrolling\" onScroll={(event) => this.renderMorePosts(event)}>\n          {this.renderLoader()}\n          {this.renderPostContent()}\n        </div>\n      </div>\n    )\n  }\n}\n\nPosts.propTypes = {\n  fetchPosts: Proptypes.func.isRequired,\n  posts: Proptypes.array.isRequired,\n  replies: Proptypes.array.isRequired,\n  comments: Proptypes.array.isRequired,\n  fetchUser: Proptypes.func.isRequired,\n  fetchComments: Proptypes.func.isRequired,\n  fetchReplies: Proptypes.func.isRequired,\n  fetchNotifications: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  posts: state.posts.items,\n  user: state.users.item,\n  comments: state.comments.items,\n  replies: state.replies.items,\n  notifications: state.notifications.items\n})\n\nexport default connect(mapStateToProps, { fetchPosts, fetchUser, fetchComments, fetchReplies, fetchNotifications })(Posts)","import React, { Component } from 'react'\nimport { withRouter } from \"react-router-dom\";\nimport { HashLink as Link } from 'react-router-hash-link'\nimport axios from 'axios'\n\nimport ReactHtmlParser from 'react-html-parser'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { fetchPosts } from '../actions/postActions'\nimport { fetchUser } from '../actions/usersActions'\nimport { fetchComments } from '../actions/commentActions'\nimport { fetchReplies } from '../actions/replyActions'\n\nimport NewComment from './newComment.js'\nimport LikeButton from './likeButton.js'\n\nimport Media from 'react-bootstrap/Media'\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/Spinner'\nimport '../main.css'\n\nclass UserPosts extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      postsViewable: 6,\n      commentsViewable: 2,\n      repliesViewable: 2,\n      userIs: false\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {user, fetchUser, fetchComments, authorization, comments} = this.props\n\n    if(prevProps.authorization !== authorization) {\n      fetchUser()\n    }\n    \n    if(prevProps.user !== user) {\n      this.renderNewComment()\n    }\n  }\n\n  renderLoader() {\n    const {posts} = this.props\n\n    if(Object.keys(posts).length === 0) {\n      return(\n        <Spinner animation=\"border\" style={{margin: '30px'}} />\n      )\n    }\n  }\n\n  renderDatePosted(date) {\n    var moment = require('moment')\n    const formattedDate = moment(date).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")\n\n    return <small className=\"text-muted\">{formattedDate}</small>\n  }\n\n  renderArticleContent(content, id) {\n    if (content.length > 1000) {\n      return(\n        <div>\n          <div className=\"article-content\">{ReactHtmlParser(content.substr(0, 1000))}</div>\n          <Link className=\"mr-2\" to={`/post/${id}`}>Read More</Link>\n        </div>\n      )\n    } else {\n      return(\n          <div className=\"article-content\">{ReactHtmlParser(content)}</div>\n      )\n    }\n  }\n\n  async handleDeleteComment(id) {\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_comment',\n        data: {\n          comment_id: id\n        }\n      })\n      if (res.status === 200) {\n        this.props.fetchComments()\n      }\n    } catch (error) {\n      console.log(error.response)\n    }\n  }\n\n  async handleDeleteReply(id) {\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_reply',\n        data: {\n          reply_id: id\n        }\n      })\n      if (res.status === 200) {\n        this.props.fetchReplies()\n      }\n    } catch (error) {\n      console.log(error.response)\n    }\n  }\n\n  renderNewComment(post) {\n    const {user} = this.props\n\n      if(Object.keys(user).length !== 0) {\n        return(\n          <NewComment post={post} user={user} />\n        )\n      }\n  }\n\n  renderCommentsLength(post) {\n    const {comments} = this.props\n    const commentsById = comments.filter((comment) => {\n      if(comment.post_id == post) {\n        return true\n      }\n    })\n    return(\n      <div>\n        <Link to={`/post/${post}#comment-length`}>Comments({commentsById.length})</Link>\n      </div>\n    )\n  }\n\n  renderCommentEditButtons(commentUser, id) {\n    const {user} = this.props\n\n    if(user.username === commentUser || user.admin === true) {\n      return <Button className=\"ml-auto delete-comment\" onClick={() => this.handleDeleteComment(id)} variant=\"outline-danger\" size=\"sm\"><span>&times;</span></Button>\n    }\n  }\n\n  renderReplyEditButtons(replyUser, id) {\n    const {user} = this.props\n\n    if(user.username === replyUser || user.admin === true) {\n      return <Button className=\"ml-auto delete-comment\" onClick={() => this.handleDeleteReply(id)} variant=\"outline-danger\" size=\"sm\"><span>&times;</span></Button>\n    }\n  }\n\n  renderReplyButton(comment_id, post) {\n    const {replies} = this.props\n    const repliesById = replies.filter((reply) => {\n      if(reply.comment_id == comment_id) {\n        return true\n      }\n    })\n\n    return(\n      <Link className=\"ml-auto px-2\" to={`/post/${post}/comment/${comment_id}`}>Replies({repliesById.length})</Link>\n    )\n  }\n\n  renderComments(post) {\n    const {comments} = this.props\n    const {commentsViewable} = this.state\n    const commentsById = comments.filter((comment) => {\n      if(comment.post_id == post) {\n        return true\n      }\n    })\n\n    const commentsByPost = commentsById.map(comment => (\n      <div key={comment.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content\">\n          <div className=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${comment.users.username}`}>{comment.users.username}</Link>\n            {this.renderDatePosted(comment.date_posted)}\n            {this.renderReplyButton(comment.id, post)}\n            {this.renderCommentEditButtons(comment.users.username, comment.id)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{comment.content}</p>\n        </div>\n        {this.renderReplies(comment.id)}\n      </div>\n    ))\n    \n    return commentsByPost.slice(0, commentsViewable)\n  }\n\n  renderReplies(comment) {\n    const {replies} = this.props\n    const {repliesViewable} = this.state\n    const repliesById = replies.filter((reply) => {\n      if(reply.comment_id == comment) {\n        return true\n      }\n    })\n\n    const repliesByComment = repliesById.map(reply => (\n      <div key={reply.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content ml-5\">\n          <div className=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${reply.users.username}`}>{reply.users.username}</Link>\n            {this.renderDatePosted(reply.date_posted)}\n            {this.renderReplyEditButtons(reply.users.username, reply.id)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{reply.content}</p>\n        </div>\n      </div>\n    ))\n    \n    return repliesByComment.slice(0, repliesViewable)\n  }\n\n  renderProfileImage(userImage) {\n    return <img className=\"rounded-circle article-img\" src={`https://zennitapp.s3.amazonaws.com/${userImage}`} alt=\"\" />\n  }\n\n  renderLikeButtons(post) {\n    const {user} = this.props\n    if(Object.keys(user).length !== 0) {\n      return(\n        <LikeButton post={post.id}/>\n      )\n    }\n  }\n\n  renderPostContent() {\n    const {postsViewable} = this.state\n    const {username} = this.props.match.params\n    const {posts} = this.props\n    const userPosts = posts.filter((post) => {\n      if(post.users.username === username) {\n        return true\n      }\n    })\n    const postItems = userPosts.map(post => (\n      <div key={post.id}>\n        <Media className=\"content-section\">\n          <div style={{display: 'flex', flexDirection: 'column'}}>\n            {this.renderProfileImage(post.users.image_file)}\n            {this.renderLikeButtons(post)}\n          </div>\n          <Media.Body>\n            <div className=\"article-metadata\">\n              <Link className=\"mr-2\" to={`/user_posts/${post.users.username}`}>{post.users.username}</Link>\n              {this.renderDatePosted(post.date_posted)}\n            </div>\n            <h2><Link className=\"article-title\" to={`/post/${post.id}`}>{post.title}</Link></h2>\n            <hr />\n            {this.renderArticleContent(post.content, post.id)}\n          </Media.Body>\n        </Media>\n        {this.renderCommentsLength(post.id)}\n        {this.renderNewComment(post.id)}\n        {this.renderComments(post.id)}\n        <hr />\n      </div>\n      ))\n    return postItems.slice(0, postsViewable)\n  }\n\n  renderMorePosts(event) {\n    const target = event.target\n    const {postsViewable} = this.state\n\n    if(target.scrollHeight - target.scrollTop === target.clientHeight) {\n      this.setState({\n        postsViewable: postsViewable + 2\n      }, () => {console.log(postsViewable)})\n    }\n  }\n\n  render() {\n    const {username} = this.props.match.params\n\n    return (\n      <div>\n        <h1>{username}</h1>\n        {this.renderLoader()}\n        <div className=\"scrolling\" onScroll={(event) => this.renderMorePosts(event)}>\n          {this.renderPostContent()}\n        </div>\n      </div>\n    )\n  }\n}\n\nUserPosts.propTypes = {\n  fetchPosts: Proptypes.func.isRequired,\n  posts: Proptypes.array.isRequired,\n  replies: Proptypes.array.isRequired,\n  comments: Proptypes.array.isRequired,\n  fetchUser: Proptypes.func.isRequired,\n  fetchComments: Proptypes.func.isRequired,\n  fetchReplies: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  posts: state.posts.items,\n  user: state.users.item,\n  comments: state.comments.items,\n  replies: state.replies.items\n})\n\nexport default compose(withRouter, connect(mapStateToProps, { fetchPosts, fetchUser, fetchComments, fetchReplies }))(UserPosts)\n\n    ","import React, { Component } from 'react'\nimport { Link, withRouter } from \"react-router-dom\";\nimport axios from 'axios'\n\nimport ReactHtmlParser from 'react-html-parser'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { fetchPosts } from '../actions/postActions'\nimport { fetchUser } from '../actions/usersActions'\nimport { fetchComments } from '../actions/commentActions'\nimport { fetchReplies } from '../actions/replyActions'\n\nimport NewComment from './newComment.js'\nimport LikeButton from './likeButton.js'\n\nimport Media from 'react-bootstrap/Media'\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal'\nimport Alert from 'react-bootstrap/Alert'\nimport Spinner from 'react-bootstrap/Spinner'\nimport '../main.css'\n\nclass SinglePost extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modalToggle: false,\n      alert: false,\n      alertText: 'Something went wrong, please try again later!',\n      alertType: 'warning',\n      repliesViewable: 2,\n      userIs: false\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {user, fetchUser, fetchComments, authorization, comments} = this.props\n\n    if(prevProps.authorization !== authorization) {\n      fetchUser()\n    }\n    \n    if(prevProps.user !== user) {\n      this.renderNewComment()\n    }\n  }\n\n  renderLoader() {\n    const {posts} = this.props\n\n    if(Object.keys(posts).length === 0) {\n      return(\n        <Spinner animation=\"border\" style={{margin: '30px'}} />\n      )\n    }\n  }\n\n  renderAlert() {\n    const {alert, alertType, alertText} = this.state\n\n    if(alert) {\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  handleModalToggle() {\n    const {modalToggle} = this.state\n    this.setState({\n      modalToggle: !modalToggle\n    })\n  }\n\n  async handleDeletePost() {\n    const {id} = this.props.match.params\n\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_post',\n        data: {\n          post_id: id\n        }\n      })\n      console.log(res)\n      if (res.status === 200) {\n        localStorage.setItem(\"deletePost\", true)\n        this.props.history.replace(\"/\")\n        this.props.history.go(\"/\")\n      } else {\n        this.setState({\n          alert: true\n        })\n      }\n    } catch (error) {\n      console.log(error.response)\n      this.setState({\n        alert: true\n      })\n    }\n  }\n\n  renderDatePosted(date) {\n    var moment = require('moment')\n    const formattedDate = moment(date).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")\n\n    return <small className=\"text-muted\">{formattedDate}</small>\n  }\n\n  async handleDeleteComment(id) {\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_comment',\n        data: {\n          comment_id: id\n        }\n      })\n      if (res.status === 200) {\n        this.props.fetchComments()\n      } \n    } catch (error) {\n      console.log(error.response)\n    }\n  }\n\n  async handleDeleteReply(id) {\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_reply',\n        data: {\n          reply_id: id\n        }\n      })\n      if (res.status === 200) {\n        this.props.fetchReplies()\n      }\n    } catch (error) {\n      console.log(error.response)\n    }\n  }\n\n  renderNewComment(post) {\n    const {user} = this.props\n\n      if(Object.keys(user).length !== 0) {\n        return(\n          <NewComment post={post} user={user} />\n        )\n      }\n  }\n\n  renderCommentsLength(post) {\n    const {comments} = this.props\n    const commentsById = comments.filter((comment) => {\n      if(comment.post_id == post) {\n        return true\n      }\n    })\n    return <p id=\"comment-length\">Comments({commentsById.length})</p>\n  }\n\n  renderCommentEditButtons(commentUser, id) {\n    const {user} = this.props\n\n    if(user.username === commentUser || user.admin == true) {\n      return <Button className=\"ml-auto delete-comment\" onClick={() => this.handleDeleteComment(id)} variant=\"outline-danger\" size=\"sm\"><span>&times;</span></Button>\n    }\n  }\n\n  renderReplyEditButtons(replyUser, id) {\n    const {user} = this.props\n\n    if(user.username === replyUser || user.admin === true) {\n      return <Button className=\"ml-auto delete-comment\" onClick={() => this.handleDeleteReply(id)} variant=\"outline-danger\" size=\"sm\"><span>&times;</span></Button>\n    }\n  }\n\n  renderReplyButton(comment_id, post) {\n    const {replies} = this.props\n    const repliesById = replies.filter((reply) => {\n      if(reply.comment_id == comment_id) {\n        return true\n      }\n    })\n\n    return(\n      <Link className=\"ml-auto px-2\" to={`/post/${post}/comment/${comment_id}`}>Replies({repliesById.length})</Link>\n    )\n  }\n\n  renderComments(post) {\n    const {comments} = this.props\n    const {commentsViewable} = this.state\n    const commentsById = comments.filter((comment) => {\n      if(comment.post_id == post) {\n        return true\n      }\n    })\n\n    const commentsByPost = commentsById.map(comment => (\n      <div key={comment.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content\">\n          <div className=\"comment-head\" id=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${comment.users.username}`}>{comment.users.username}</Link>\n            {this.renderDatePosted(comment.date_posted)}\n            {this.renderReplyButton(comment.id, post)}\n            {this.renderCommentEditButtons(comment.users.username, comment.id)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{comment.content}</p>\n        </div>\n        {this.renderReplies(comment.id)}\n      </div>\n    ))\n    \n    // return commentsByPost.slice(0, commentsViewable)\n    return commentsByPost\n  }\n\n  renderReplies(comment) {\n    const {replies} = this.props\n    const {repliesViewable} = this.state\n    const repliesById = replies.filter((reply) => {\n      if(reply.comment_id == comment) {\n        return true\n      }\n    })\n\n    const repliesByComment = repliesById.map(reply => (\n      <div key={reply.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content ml-5\">\n          <div className=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${reply.users.username}`}>{reply.users.username}</Link>\n            {this.renderDatePosted(reply.date_posted)}\n            {this.renderReplyEditButtons(reply.users.username, reply.id)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{reply.content}</p>\n        </div>\n      </div>\n    ))\n    \n    return repliesByComment.slice(0, repliesViewable)\n  }\n\n  renderProfileImage(userImage) {\n    return <img className=\"rounded-circle article-img\" src={`https://zennitapp.s3.amazonaws.com/${userImage}`} alt=\"\" />\n  }\n\n  renderEditButtons(postUsername) {\n    const {user} = this.props\n    const {id} = this.props.match.params\n\n    if(user.username === postUsername || user.admin === true) {\n      return(\n        <div>\n          <Button as={Link} className=\"mt-1 mb-1\" size=\"sm\" to={`/update/post/${id}`}>Update</Button>\n          <Button onClick={() => this.handleModalToggle()} className=\"m-1\" variant=\"danger\" size=\"sm\">Delete</Button>\n        </div>\n      )\n    }\n  }\n\n  renderLikeButtons(post) {\n    const {user} = this.props\n    if(Object.keys(user).length !== 0) {\n      return(\n        <LikeButton post={post.id}/>\n      )\n    }\n  }\n\n  renderPostContent() {\n    const {id} = this.props.match.params\n    const {posts} = this.props\n    const postsById = posts.filter((post) => {\n      if(post.id == id) {\n        return true\n      }\n    })\n    const postItems = postsById.map(post => (\n      <div key={post.id}>\n        <Media className=\"content-section\">\n          <div style={{display: 'flex', flexDirection: 'column'}}>\n            {this.renderProfileImage(post.users.image_file)}\n            {this.renderLikeButtons(post)}\n          </div>\n          <Media.Body>\n            <div className=\"article-metadata\">\n              <Link className=\"mr-2\" to={`/user_posts/${post.users.username}`}>{post.users.username}</Link>\n              {this.renderDatePosted(post.date_posted)}\n              {this.renderEditButtons(post.users.username)}\n            </div>\n            <h2><Link className=\"article-title\" to={`/post/${post.id}`}>{post.title}</Link></h2>\n            <hr />\n            <div className=\"article-content\">{ReactHtmlParser(post.content)}</div>\n          </Media.Body>\n        </Media>\n        {this.renderCommentsLength(post.id)}\n        {this.renderNewComment(post.id)}\n        {this.renderComments(post.id)}\n        <hr />\n      </div>\n      ))\n    return postItems\n  }\n\n  render() {\n    const {modalToggle} = this.state\n\n    return (\n      <div>\n        {this.renderLoader()}\n        {this.renderAlert()}\n        {this.renderPostContent()}\n        {/* <!-- Modal --> */}\n        <Modal className=\"fade\" show={modalToggle}>\n          <Modal.Dialog>\n            <Modal.Header>\n              <Modal.Title>Delete Post?</Modal.Title>\n              <Button onClick={() => this.handleModalToggle()} variant=\"close\">\n                <span>&times;</span>\n              </Button>\n            </Modal.Header>\n            <Modal.Footer>\n              <Button onClick={() => this.handleModalToggle()} variant=\"secondary\">Close</Button>\n              <Button onClick={() => this.handleDeletePost()} variant=\"danger\" value=\"delete\" type=\"submit\">Delete</Button>\n            </Modal.Footer>\n          </Modal.Dialog>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nSinglePost.propTypes = {\n  fetchPosts: Proptypes.func.isRequired,\n  posts: Proptypes.array.isRequired,\n  replies: Proptypes.array.isRequired,\n  comments: Proptypes.array.isRequired,\n  fetchUser: Proptypes.func.isRequired,\n  fetchComments: Proptypes.func.isRequired,\n  fetchReplies: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  posts: state.posts.items,\n  user: state.users.item,\n  comments: state.comments.items,\n  replies: state.replies.items\n})\n\nexport default compose(withRouter, connect(mapStateToProps, { fetchPosts, fetchUser, fetchComments, fetchReplies }))(SinglePost)","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from 'axios'\n\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nimport '../main.css'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\n\nexport default function NewPost() {\n  const [value, setValue] = useState('')\n  const [alert, setAlert] = useState(false)\n  const [alertText, setAlertText] = useState('Something went wrong, please try again later!')\n  const history = useHistory()\n\n  useEffect(() => {\n    // localStorage.removeItem(\"loginMessage\")\n    if(alert) {\n      if(alert) {\n        setTimeout(() => {\n          setAlert(false)\n        }, 5000)\n      }\n    }\n  });\n\n  async function handleSubmit(event) {\n    event.preventDefault()\n    const title = event.target.title.value.trim()\n    const content = value.trim()\n\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/new_post',\n        data: {\n          title: title,\n          content: content\n        }\n      })\n      console.log(res)\n      if (res.status === 201) {\n        localStorage.setItem(\"newPost\", true)\n        history.replace(\"/\")\n        history.go(\"/\")\n      } else {\n        setAlert(true)\n      }\n    } catch (error) {\n      console.log(error.response)\n      setAlert(true)\n    }\n    \n  }\n\n  function renderAlert() {\n    if(alert) {\n      return(\n        <Alert variant=\"danger\">\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  function handleChange(e, editor) {\n    const data = editor.getData()\n    setValue(data)\n  }\n\n  return (\n    <div>\n      {renderAlert()}\n      <div className=\"content-section\">\n        <legend className=\"border-bottom mb-4\">New Post</legend>\n          <Form onSubmit={(event) => handleSubmit(event)}>\n            <Form.Group controlId=\"title\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control \n                required\n                size=\"lg\"\n                type=\"title\"\n                placeholder=\"Post Title\" />\n            </Form.Group>\n\n            <Form.Group controlId=\"content\">\n              <Form.Label>Content</Form.Label>\n              <Form.Control\n                required\n                as={CKEditor}\n                type=\"content\"\n                editor={ClassicEditor}\n                onChange={handleChange}\n                data={value}\n                config={ {\n                  toolbar: ['heading', 'bold', 'italic', 'link', 'numberedList', 'bulletedList', 'blockQuote', ]\n                } }\n              />\n            </Form.Group>\n              <Button variant=\"outline-info\" type=\"submit\">\n                Post\n              </Button>\n          </Form>\n      </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport { Link, withRouter } from \"react-router-dom\";\nimport axios from 'axios'\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { fetchPosts } from '../actions/postActions'\nimport { fetchUser } from '../actions/usersActions'\n\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\nimport Form from 'react-bootstrap/Form'\nimport '../main.css'\n\nclass UpdatePost extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modalToggle: false,\n      alert: false,\n      alertText: 'Something went wrong, please try again later!',\n      alertType: 'warning',\n      value: ''\n    }\n  }\n\n  componentDidUpdate() {\n    const {alert} = this.state\n\n    if(alert) {\n      setTimeout(() => {\n        this.setState({\n          alert: false\n        })\n      }, 5000)\n    }\n  }\n\n  renderAlert() {\n    const {alert, alertType, alertText} = this.state\n\n    if(alert) {\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  async handleUpdatePost(event) {\n    event.preventDefault()\n    const {id} = this.props.match.params\n    const title = event.target.title.value.trim()\n    const content = this.state.value.trim()\n\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/update_post',\n        data: {\n          title: title,\n          content: content,\n          post_id: id\n        }\n      })\n      console.log(res)\n      if (res.status === 200) {\n        localStorage.setItem(\"updatePost\", true)\n        this.props.history.replace(\"/\")\n        this.props.history.go(\"/\")\n      } else {\n        this.setState({\n          alert: true\n        })\n      }\n    } catch (error) {\n      console.log(error.response)\n      this.setState({\n        alert: true\n      })\n    }\n  }\n\n  renderPostContent() {\n    const {id} = this.props.match.params\n    const {posts} = this.props\n    const postsById = posts.filter((post) => {\n      if(post.id == id) {\n        return true\n      }\n    })\n    const updatePostForm = postsById.map(post => (\n      <div className=\"content-section\" key={post.id}>\n          <legend className=\"border-bottom mb-4\">{post.title}</legend>\n          <Form onSubmit={(event) => this.handleUpdatePost(event)}>\n            <Form.Group controlId=\"title\">\n              <Form.Label>Title</Form.Label>\n              <Form.Control \n                required\n                size=\"lg\"\n                type=\"title\"\n                defaultValue={post.title} />\n            </Form.Group>\n\n            <Form.Group controlId=\"content\">\n              <Form.Label>Content</Form.Label>\n              <Form.Control\n                required\n                as={CKEditor}\n                type=\"content\"\n                editor={ClassicEditor}\n                onChange={(e, editor) => this.handleChange(e, editor)}\n                data={this.state.value || post.content  }\n                config={ {\n                  toolbar: ['heading', 'bold', 'italic', 'link', 'numberedList', 'bulletedList', 'blockQuote', ]\n                } }\n              />\n            </Form.Group>\n              <Button variant=\"outline-info\" type=\"submit\">\n                Update\n              </Button>\n          </Form>\n        </div>\n    ))\n    return updatePostForm\n  }\n\n  handleChange(e, editor) {\n    const data = editor.getData()\n    this.setState({\n      value: data\n    })\n  }\n\n  render() {\n\n    return (\n      <div>\n        {this.renderAlert()}\n        {this.renderPostContent()}\n        \n    </div>\n    )\n  }\n}\n\nUpdatePost.propTypes = {\n  fetchPosts: Proptypes.func.isRequired,\n  posts: Proptypes.array.isRequired,\n  fetchUser: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  posts: state.posts.items,\n  user: state.users.item\n})\n\nexport default compose(withRouter,connect(mapStateToProps, { fetchPosts, fetchUser }))(UpdatePost)","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";  \nimport axios from 'axios'\n\nimport '../main.css'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\n\nexport default function Login() {\n  const [loginStatus, setLoginStatus] = useState(false)\n  const [alert, setAlert] = useState(false)\n  const [alertText, setAlertText] = useState('Something went wrong, please try again later!')\n  const [alertType, setAlertType] = useState('warning')\n  const history = useHistory()\n\n  useEffect(() => {\n      if(alert) {\n        setTimeout(() => {\n          setAlert(false)\n        }, 9000)\n      }\n  });\n\n  async function handleSubmit(event) {\n    event.preventDefault()\n    const email = event.target.email.value.trim()\n\n    try {\n      const res = await axios({\n        method: 'post',\n        url: '/api/request_reset_email',\n        data: {\n          email: email\n        }\n      })\n      console.log(res)\n      if (res.status === 200) {\n        setAlert(true)\n        setAlertType('success')\n        setAlertText('Request Sent! Check Email For Password Reset Link!')\n      } else {\n        setAlert(true)\n        setAlertType('warning')\n        setAlertText('Something Went Wrong, Please Try Again Later!')\n      }\n    } catch (error) {\n      console.log(error.response)\n      if(error.response.status === 400) {\n        setAlert(true)\n        setAlertType('warning')\n        setAlertText('No User Found By This Email! Try Again!')\n      } else {\n        setAlert(true)\n        setAlertType('danger')\n        setAlertText('Something Went Wrong, Please Try Again Later!')\n      }\n    }\n    \n  }\n\n  function renderAlert() {\n    if(alert) {\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  return (\n    <div>\n      {renderAlert()}\n      <div className=\"content-section\">\n        <legend className=\"border-bottom mb-4\">Reset Password</legend>\n        <Form onSubmit={(event) => handleSubmit(event)}>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control \n              required\n              size=\"lg\"\n              type=\"email\"\n              placeholder=\"Account Email\" />\n          </Form.Group>\n            <Button variant=\"outline-info\" type=\"submit\">\n              Request Password Reset\n            </Button>\n        </Form>\n      </div>\n    </div>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory, useParams } from \"react-router-dom\";  \nimport axios from 'axios'\n\nimport '../main.css'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\n\nexport default function ResetPassword() {\n  const [alert, setAlert] = useState(false)\n  const [alertText, setAlertText] = useState('Something went wrong, please try again later!')\n  const [alertType, setAlertType] = useState('warning')\n  const history = useHistory()\n  const {token} = useParams()\n\n  useEffect(() => {\n      if(alert) {\n        setTimeout(() => {\n          setAlert(false)\n        }, 5000)\n      }\n  });\n\n  async function handleSubmit(event) {\n    event.preventDefault()\n    const password = event.target.password.value\n\n    try {\n      const res = await axios({\n        method: 'post',\n        url: '/api/reset_password',\n        data: {\n          password: password,\n          token: token\n        }\n      })\n      console.log(res)\n      if (res.status === 200) {\n        setAlert(true)\n        setAlertType('success')\n        setAlertText('Password Has Been Reset!')\n      } else {\n        setAlert(true)\n        setAlertType('warning')\n        setAlertText('Something Went Wrong, Please Try Again Later!')\n      }\n    } catch (error) {\n      console.log(error)\n      setAlert(true)\n      setAlertType('danger')\n      setAlertText('Something Went Wrong, Please Try Again Later!')\n    }\n    \n  }\n\n  function renderAlert() {\n    if(alert) {\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  return (\n    <div>\n      {renderAlert()}\n      <div className=\"content-section\">\n        <legend className=\"border-bottom mb-4\">New Password</legend>\n        <Form onSubmit={(event) => handleSubmit(event)}>\n          <Form.Group controlId=\"password\">\n            <Form.Label>New Password</Form.Label>\n            <Form.Control \n              required\n              size=\"lg\"\n              type=\"password\"\n              placeholder=\"New Password\" />\n          </Form.Group>\n            <Button variant=\"outline-info\" type=\"submit\">\n              Reset Password\n            </Button>\n        </Form>\n      </div>\n    </div>\n  )\n}","import React, { Component } from 'react'\nimport '../main.css'\n\nexport default class Rules extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Rules</h1>\n        <div className=\"content-section\">\n          <h2>1. No Spam / Advertising / Self-promotion in the forums</h2>\n          <p>This forum defines spam as: unsolicited advertisement for goods, services and/or other web sites, or posts with little, or completely unrelated content. Do not spam the forums with links to your site or product, or try to self-promote your website, business or forums etc.</p>\n          <h2>2. Respect</h2>\n          <p>All posts should be professional and courteous. You have every right to disagree with your fellow community members and explain your perspective. However, you are not free to attack, degrade, insult, or otherwise belittle them or the quality of this community.</p>\n          < hr/>\n          <small>These rules are subject to change at any time when we feel it is needed. Please check here in case of changes to these rules.</small>\n\n        </div>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react'\nimport '../main.css'\n\nexport default class Resources extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Resources</h1>\n        <div className=\"content-section\">\n          <p>Just in Case you need a quick reminder...</p>\n          <a href=\"https://en.wikipedia.org/wiki/Zen\">Wikipedia (zen)</a>\n          <hr />\n          <p>Koan Search and Podcast from our friends</p>\n          <a href=\"https://zenmarrow.com/\">ZenMarrow</a>\n          <hr />\n          <p>The birth place of our history</p>\n          <a href=\"https://www.reddit.com/r/zen/\">Reddit r/zen</a>\n          <hr />\n          <p>The well of ancient texts!</p>\n          <a href=\"https://terebess.hu/zen/index.html\">Terebess</a>\n          <hr />\n          <p>Start with the Gateless Gate!</p>\n          <a href=\"https://www.sacred-texts.com/bud/glg/index.htm\">Sacred Texts: The Gateless Gate</a>\n        </div>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react'\nimport { withRouter } from \"react-router-dom\";\nimport { HashLink as Link } from 'react-router-hash-link'\n\nimport ReactHtmlParser from 'react-html-parser'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { fetchPosts } from '../actions/postActions'\n\nimport Media from 'react-bootstrap/Media'\nimport Spinner from 'react-bootstrap/Spinner'\nimport '../main.css'\n\nclass SearchPosts extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      postsViewable: 4\n    }\n  }\n\n  renderLoader() {\n    const {posts} = this.props\n\n    if(Object.keys(posts).length === 0) {\n      return(\n        <Spinner animation=\"border\" style={{margin: '30px'}} />\n      )\n    }\n  }\n\n  renderDatePosted(date) {\n    var moment = require('moment')\n    const formattedDate = moment(date).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")\n\n    return <small className=\"text-muted\">{formattedDate}</small>\n  }\n\n  renderArticleContent(content, id) {\n    if (content.length > 1000) {\n      return(\n        <div>\n          <div className=\"article-content\">{ReactHtmlParser(content.substr(0, 1000))}</div>\n          <Link className=\"mr-2\" to={`/post/${id}`}>Read More</Link>\n        </div>\n      )\n    } else {\n      return(\n          <div className=\"article-content\">{ReactHtmlParser(content)}</div>\n      )\n    }\n  }\n\n  renderProfileImage(userImage) {\n    return <img className=\"rounded-circle article-img\" src={`https://zennitapp.s3.amazonaws.com/${userImage}`} alt=\"\" />\n  }\n\n  renderPostContent() {\n    const {postsViewable} = this.state\n    const {input} = this.props.match.params\n    const {posts} = this.props\n    const searchPosts = posts.filter((post) => {\n      const search = input.toLowerCase()\n      const user = JSON.stringify(post['user.username'].toLowerCase())\n      const content = JSON.stringify(post.content.toLowerCase())\n      const title = JSON.stringify(post.title.toLowerCase())\n\n      if(content.includes(search) || title.includes(search) || user.includes(search)) {\n        return true\n      }\n    })\n    if(Object.keys(searchPosts).length === 0) {\n      return(\n        <h1>Sorry we couldn't find anything!</h1>\n      )\n    }\n\n    const postItems = searchPosts.map(post => (\n      <div key={post.id}>\n        <Media className=\"content-section\">\n          <div style={{display: 'flex', flexDirection: 'column'}}>\n            {this.renderProfileImage(post['user.image_file'])}\n          </div>\n          <Media.Body>\n            <div className=\"article-metadata\">\n              <Link className=\"mr-2\" to={`/user_posts/${post['user.username']}`}>{post['user.username']}</Link>\n              {this.renderDatePosted(post.date_posted)}\n            </div>\n            <h2><Link className=\"article-title\" to={`/post/${post.id}`}>{post.title}</Link></h2>\n            <hr />\n            {this.renderArticleContent(post.content, post.id)}\n          </Media.Body>\n        </Media>\n      </div>\n      ))\n    return postItems.slice(0, postsViewable)\n  }\n\n  renderMorePosts(event) {\n    const target = event.target\n    const {postsViewable} = this.state\n\n    if(target.scrollHeight - target.scrollTop === target.clientHeight) {\n      this.setState({\n        postsViewable: postsViewable + 2\n      }, () => {console.log(postsViewable)})\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderLoader()}\n        <div className=\"scrolling\" onScroll={(event) => this.renderMorePosts(event)}>\n          {this.renderPostContent()}\n        </div>\n      </div>\n    )\n  }\n}\n\nSearchPosts.propTypes = {\n  fetchPosts: Proptypes.func.isRequired,\n  posts: Proptypes.array.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  posts: state.posts.items,\n})\n\nexport default compose(withRouter, connect(mapStateToProps, { fetchPosts }))(SearchPosts)","import React, { useState, useEffect } from 'react'\nimport { HashLink as Link } from 'react-router-hash-link'\nimport axios from 'axios'\n\nimport '../main.css'\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/Spinner'\nimport Popover from 'react-bootstrap/Popover'\n\nexport default function Notifications(props) {\n  const [button, setButton] = useState(false)\n  const [notificationsViewable, setNotificationsViewable] = useState(5)\n  const [loading, setLoading] = useState(false)\n  const notificationsByUser = props.notifications.filter((notification) => {\n    if(notification.posts && notification.comments) {\n      if(notification.has_been_read !== true ) {\n        if(props.user.id === notification.posts.user_id || props.user.id === notification.comments.user_id) {\n          if(notification.user_id !== props.user.id) {\n            return true\n          }\n        }\n      }\n    } \n  })\n\n  async function handleNotificationRead(event, notification) {\n    const {fetchNotifications} = props\n\n    setLoading(true)\n\n    try {\n      const res = await axios({\n        method: 'post',\n        url: '/api/update_notification',\n        data: {\n          notification_id: notification,\n          has_been_read: true\n        }\n      })\n      if (res.status === 200) {\n        fetchNotifications()\n        setLoading(false)\n      }\n    } catch(error) {\n      console.log(error)\n    }\n  }\n\n  function handleNotificationsButton() {\n    setButton(!button)\n  }\n\n  function renderNotifications() {\n    const newNotifications = notificationsByUser.map(notification => {\n      if(notification.notification_type === 'comment') {\n        return(\n          (\n            <Link style={{textDecoration: 'none', color: 'purple'}} to={`/post/${notification.post_id}/comment/${notification['comment_id']}`} onClick={(event) => handleNotificationRead(event, notification.id)}>\n              <div className=\"notification px-1 mt-2 mb-2\" key={notification.id}>\n                New comment from \"{notification.users.username}\" on your post \"{notification.posts.title}\"\n              </div>\n            </Link>\n          )\n        )\n      } else if(notification.notification_type === 'reply') {\n        return(\n          (\n            <Link style={{textDecoration: 'none', color: 'purple'}} to={`/post/${notification.post_id}/comment/${notification['comment_id']}`} onClick={(event) => handleNotificationRead(event, notification.id)}>\n              <div className=\"notification px-1 mt-2 mb-2\" key={notification.id}>\n                New reply from \"{notification.users.username}\" on your comment in \"{notification.posts.title}\"\n              </div>\n            </Link>\n          )\n        )\n      }\n    })\n    if(newNotifications.length === 0) {\n      return <p className=\"mt-2\">No New Notifications!</p>\n    } else {\n      return newNotifications.slice(0, notificationsViewable)\n    }\n  }\n\n  function renderNotificationsContainer() {\n    const {user} = props\n\n    if(button && user) {\n      return(\n        <div className=\"notifications-box scrolling p-0\" onScroll={(event) => renderMoreNotifications(event)}>\n          {renderLoader()}\n          {renderNotifications()}\n        </div>\n      )\n    }\n  }\n\n  function renderMoreNotifications(event) {\n    const target = event.target\n\n    if(target.scrollHeight - target.scrollTop === target.clientHeight) {\n      setNotificationsViewable(notificationsViewable + 5)\n      console.log(notificationsViewable)\n    }\n  }\n\n  function renderNotificationsCount() {\n      if(notificationsByUser.length > 0) {\n        return(\n          <Popover className=\"popover-style position-relative\" placement=\"top\">\n            <Popover.Content>\n              {notificationsByUser.length}\n            </Popover.Content>\n          </Popover>\n        )\n      }\n  }\n\n  function renderLoader() {\n    if(loading === true) {\n      return(\n        <Spinner animation=\"border\" style={{margin: '30px'}} />\n      )\n    }\n  }\n\n  return (\n    <div>\n      {renderNotificationsContainer()}\n      <div className=\"position-fixed notifications-btn\">\n        {renderNotificationsCount()}\n        <Button variant=\"info\" onClick={() => handleNotificationsButton()}>\n          Notifications\n        </Button>\n      </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fetchReplies } from '../actions/replyActions'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\nimport Media from 'react-bootstrap/Media'\nimport Row from 'react-bootstrap/Row'\nimport '../main.css'\n\nclass NewReply extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      alert: false,\n      alertType: 'warning',\n      alertText: 'Something went wrong, please try again later!'\n    }\n  }\n\n  async makeNotification(data) {\n    const reply = data.id\n    const post = data.post_id\n    const user = data.user_id\n    const comment = data.comment_id\n\n    try {\n      const res = await axios({\n        method: 'post',\n        url: '/api/new_notification',\n        data: {\n          notification_type: 'reply',\n          user_id: user,\n          post_id: post,\n          comment_id: comment,\n          reply_id: reply\n        }\n      })\n      // if (res.status === 201) {\n      //   console.log('success new notification')\n      // }\n    } catch(error) {\n      console.log(error)\n    }\n  }\n\n  async handleSubmit(event) {\n    const {post, comment} = this.props\n    const content = event.target.reply.value.trim()\n\n    event.preventDefault()\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/new_reply',\n        data: {\n          post_id: post,\n          comment_id: comment,\n          content: content\n        }\n      })\n      if (res.status === 201) {\n        this.props.fetchReplies()\n        this.makeNotification(res.data)\n        this.setState({\n          alert: true,\n          alertType: 'success',\n          alertText: 'Reply Successfully Created!'\n        })\n      } else {\n        this.setState({\n          alert: true\n        })\n      }\n    } catch (error) {\n      if(error.response) {\n        console.log(error.response)\n        if(error.response.status === 400) {\n          this.setState({\n            alert: true,\n            alertType: 'warning',\n            alertText: 'Please login to reply!'\n          })\n        } else if(error.response.status === 500) {\n          this.setState({\n            alert: true,\n            alertType: 'warning',\n            alertText: 'Something went wrong, please try again later!'\n          })\n        }\n      } else {\n        this.setState({\n          alert: true,\n          alertType: 'warning',\n          alertText: 'Something went wrong, please try again later!'\n        })\n      }\n    }\n  }\n\n  renderAlert() {\n    const {alert, alertText, alertType} = this.state\n\n    if(alert) {\n      setTimeout(() => {\n        this.setState({\n          alert: false,\n          alertType: 'warning',\n          alertText: 'Please login to reply!'\n        })\n      }, 5000)\n      return(\n        <Alert variant={alertType}>\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  render() {\n    const {user} = this.props\n\n    return (\n      <div>\n        {this.renderAlert()}\n        <Media>\n          <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${user.image_file}`}\n            alt=\"current user\" \n          />\n          <Form onSubmit={(event) => this.handleSubmit(event)}>\n            <Form.Group controlId=\"reply\">\n              <Form.Control\n                required\n                as=\"textarea\"\n                size=\"md\"\n                cols=\"50\"\n                type=\"reply\" \n                placeholder=\"Expound the dharma...\" />\n            </Form.Group>\n            <Button variant=\"outline-info\" type=\"submit\">\n              Reply\n            </Button>\n          </Form>\n        </Media>\n      </div>\n    )\n  }\n}\n\nNewReply.propTypes = {\n  fetchReplies: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  replies: state.replies.items\n})\n\nexport default connect(mapStateToProps, { fetchReplies })(NewReply)","import React, { useState } from 'react'\nimport { HashLink as Link } from 'react-router-hash-link'\nimport { useParams } from 'react-router'\nimport axios from 'axios'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fetchComments } from '../actions/commentActions'\nimport { fetchReplies } from '../actions/replyActions'\n\nimport NewReply from './newReply.js'\n\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/Spinner'\nimport '../main.css'\n\nfunction CommentReply(props) {\n  const {post_id, comment_id} = useParams()\n\n  function renderDatePosted(date) {\n    var moment = require('moment')\n    const formattedDate = moment(date).format(\"dddd, MMMM Do YYYY, h:mm:ss a\")\n\n    return <small className=\"text-muted\">{formattedDate}</small>\n  }\n\n  async function handleDeleteReply(id) {\n    try {\n      const res = await axios({\n        headers: {\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        method: 'post',\n        url: '/api/delete_reply',\n        data: {\n          reply_id: id\n        }\n      })\n      if (res.status === 200) {\n        props.fetchReplies()\n      }\n    } catch (error) {\n      console.log(error.response)\n    }\n  }\n\n  function renderReplyEditButtons(replyUser, id) {\n    const {user} = props\n\n    if(user.username === replyUser || user.admin === true) {\n      return <Button className=\"ml-auto delete-comment\" onClick={() => handleDeleteReply(id)} variant=\"outline-danger\" size=\"sm\"><span>&times;</span></Button>\n    }\n  }\n\n  function renderComment() {\n    const {comments} = props\n    const commentsById = comments.filter((comment) => {\n      if(comment.id == comment_id) {\n        return true\n      }\n    })\n\n    const commentById = commentsById.map(comment => (\n      <div key={comment.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content\">\n          <div className=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${comment.users.username}`}>{comment.users.username}</Link>\n            {renderDatePosted(comment.date_posted)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{comment.content}</p>\n        </div>\n        {renderReplies(comment.id)}\n      </div>\n    ))\n    \n    return commentById\n  }\n\n  function renderReplies(comment) {\n    const {replies} = props\n    const repliesById = replies.filter((reply) => {\n      if(reply.comment_id == comment) {\n        return true\n      }\n    })\n    const repliesByComment = repliesById.map(reply => (\n      <div key={reply.id}>\n        {/* <img\n            className=\"rounded-circle article-img\"\n            src={`https://zennitapp.s3.amazonaws.com/${comment.users.image_file}`}\n            alt=\"current user\" \n          /> */}\n        <div className=\"comment-content ml-5\">\n          <div className=\"comment-head\">\n            <Link className=\"mr-2\" to={`/user_posts/${reply.users.username}`}>{reply.users.username}</Link>\n            {renderDatePosted(reply.date_posted)}\n            {renderReplyEditButtons(reply.users.username, reply.id)}\n          </div>\n          <hr />\n          <p className=\"article-content\">{reply.content}</p>\n        </div>\n      </div>\n    ))\n    \n    return repliesByComment\n  }\n\n  function renderNewReply() {\n    const {user} = props\n\n      if(Object.keys(user).length !== 0) {\n        return(\n          <NewReply post={post_id} user={user} comment={comment_id} />\n        )\n      }\n  }\n\n  return (\n    <div>\n      {renderComment()}\n      {renderNewReply()}\n      <br />\n    </div>\n  )\n}\n\nCommentReply.propTypes = {\n  posts: Proptypes.array.isRequired,\n  replies: Proptypes.array.isRequired,\n  comments: Proptypes.array.isRequired,\n  fetchComments: Proptypes.func.isRequired,\n  fetchReplies: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  posts: state.posts.items,\n  user: state.users.item,\n  comments: state.comments.items,\n  replies: state.replies.items\n})\n\nexport default connect(mapStateToProps, { fetchComments, fetchReplies })(CommentReply)\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\n\nimport Proptypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { fetchPosts } from './actions/postActions'\nimport { fetchUser } from './actions/usersActions'\nimport { fetchComments } from './actions/commentActions'\nimport { fetchReplies } from './actions/replyActions'\nimport { fetchNotifications } from './actions/notificationActions'\nimport { fetchLikes, fetchDislikes } from './actions/likesActions'\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nimport Navigation from  './components/nav.js'\nimport About from './components/about.js'\nimport Sidebar from './components/sidebar.js'\nimport Register from './components/register.js'\nimport Login from './components/login.js'\nimport Logout from './components/logout.js'\nimport Account from './components/account.js'\nimport Posts from './components/posts.js'\nimport UserPosts from './components/userPosts.js'\nimport SinglePost from './components/singlePost.js'\nimport NewPost from './components/newPost.js'\nimport UpdatePost from './components/updatePost.js'\nimport ForgotPassword from './components/forgotPassword.js'\nimport ResetPassword from './components/resetPassword.js'\nimport Rules from './components/rules.js'\nimport Resources from './components/resources.js'\nimport SearchPosts from './components/searchPosts.js'\nimport Notifications from './components/notifications.js'\nimport CommentReply from './components/commentReply.js'\n\nimport './main.css'\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row'\nimport Alert from 'react-bootstrap/Alert'\n\nfunction App(props) {\n  const [authorization, setAuthorization] = useState(false)\n  const [alert, setAlert] = useState(false)\n  const [alertText, setAlertText] = useState('Welcome!')\n\n  const loginMessage = localStorage.getItem(\"loginMessage\")\n  const token = localStorage.getItem(\"token\")\n\n  useEffect(() => {\n    const {fetchLikes, fetchDislikes, fetchUser, fetchNotifications, fetchComments, fetchReplies, fetchPosts} = props\n    fetchNotifications()\n    fetchComments()\n    fetchReplies()\n    fetchPosts()\n    fetchLikes()\n    fetchDislikes()\n    fetchUser()\n  }, [])\n\n  useEffect(() => {\n    userAuthenticated()\n  }, [authorization || !token])\n\n  function renderAlert() {\n    if(alert && authorization && loginMessage) {\n      setTimeout(() => {\n        setAlert(false)\n        setAlertText(\"Welcome!\")\n        localStorage.removeItem(\"loginMessage\")\n      }, 5000)\n      return(\n        <Alert className=\"alert-home\" variant=\"success\">\n          {alertText}\n        </Alert>\n      )\n    }\n  }\n\n  async function userAuthenticated() {\n    if(!token) {\n      setAuthorization(false)\n    } else {\n      try {\n        const res = await axios({\n          method: 'get',\n          url: '/api/verify_jwt',\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\")\n          }\n        })\n        if(res.status === 200) {\n          setAuthorization(true)\n          setAlert(true)\n          setAlertText('Login Successful! Welcome Back!')\n        } else {\n          console.log('Token is invalid')\n          localStorage.removeItem(\"token\")\n        }\n      } catch {\n        console.log('could not connect to authorization check')\n        localStorage.removeItem(\"token\")\n      }\n    }\n  }\n\n  function renderNotificationsButton() {\n    const {user, notifications, fetchNotifications} = props\n    if(Object.keys(user).length !== 0) {\n      return(\n        <Notifications user={user} notifications={notifications} fetchNotifications={fetchNotifications} />\n      )\n    }\n  }\n\n  return (\n      <Router>\n        <div className=\"main-body\">\n          <Navigation authorization={authorization}/>\n          <Container>\n              <Row>\n                <div className=\"col-md-8\">\n                  {renderAlert()}\n                  {renderNotificationsButton()}\n                  <Switch>\n                    <Route exact path=\"/\">\n                      <Posts authorization={authorization} />\n                    </Route>\n                    <Route path=\"/home\">\n                      <Posts authorization={authorization} />\n                    </Route>\n                    <Route path=\"/search/:input\">\n                      <SearchPosts />\n                    </Route>\n                    <Route path=\"/user_posts/:username\">\n                      <UserPosts authorization={authorization} />\n                    </Route>\n                    <Route exact path=\"/post/:id\">\n                      <SinglePost authorization={authorization} />\n                    </Route>\n                    <Route path=\"/update/post/:id\">\n                      <UpdatePost />\n                    </Route>\n                    <Route exact path=\"/post/:post_id/comment/:comment_id\">\n                      <CommentReply />\n                    </Route>\n                    <Route path=\"/about\">\n                      <About />\n                    </Route>\n                    <Route path=\"/rules\">\n                      <Rules />\n                    </Route>\n                    <Route path=\"/resources\">\n                      <Resources />\n                    </Route>\n                    <Route path=\"/account\">\n                      <Account />\n                    </Route>\n                    <Route path=\"/forgot_password\">\n                      <ForgotPassword />\n                    </Route>\n                    <Route path=\"/reset_password/:token\">\n                      <ResetPassword />\n                    </Route>\n                    <Route path=\"/register\">\n                      <Register />\n                    </Route>\n                    <Route path=\"/new_post\">\n                      <NewPost />\n                    </Route>\n                    <Route path=\"/login\">\n                      <Login />\n                    </Route>\n                    <Route path=\"/logout\">\n                      <Logout />\n                    </Route>\n                  </Switch>\n                </div>\n                <Sidebar />\n              </Row>\n            </Container>\n        </div>\n      </Router>\n  );\n}\n\nApp.propTypes = {\n  fetchPosts: Proptypes.func.isRequired,\n  fetchUser: Proptypes.func.isRequired,\n  fetchComments: Proptypes.func.isRequired,\n  fetchReplies: Proptypes.func.isRequired,\n  fetchNotifications: Proptypes.func.isRequired,\n  fetchLikes: Proptypes.func.isRequired,\n  fetchDislikes: Proptypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  posts: state.posts.items,\n  user: state.users.item,\n  comments: state.comments.items,\n  replies: state.replies.items,\n  notifications: state.notifications.items\n})\n\nexport default connect(mapStateToProps, { fetchPosts, fetchUser, fetchComments, fetchReplies, fetchNotifications, fetchLikes, fetchDislikes })(App)\n","import { FETCH_COMMENTS } from '../actions/types.js'\n\nconst initialState = {\n  items: [],\n  item: {}\n}\n\nexport default function(state = initialState, action ) {\n  switch(action.type) {\n    case FETCH_COMMENTS:\n      return {\n        ...state,\n        items: action.payload\n      }\n    default:\n      return state\n  }\n}","import { FETCH_LIKES, FETCH_DISLIKES } from '../actions/types.js'\n\nconst initialState = {\n  likes: [],\n  dislikes: []\n}\n\nexport default function(state = initialState, action ) {\n  switch(action.type) {\n    case FETCH_LIKES:\n      return {\n        ...state,\n        likes: action.payload\n      }\n    case FETCH_DISLIKES:\n      return {\n        ...state,\n        dislikes: action.payload\n      }\n    default:\n      return state\n  }\n}","import { FETCH_NOTIFICATIONS } from '../actions/types.js'\n\nconst initialState = {\n  items: [],\n  item: {}\n}\n\nexport default function(state = initialState, action ) {\n  switch(action.type) {\n    case FETCH_NOTIFICATIONS:\n      return {\n        ...state,\n        items: action.payload\n      }\n    default:\n      return state\n  }\n}","import { FETCH_POSTS } from '../actions/types.js'\n\nconst initialState = {\n  items: [],\n  item: {}\n}\n\nexport default function(state = initialState, action ) {\n  switch(action.type) {\n    case FETCH_POSTS:\n      return {\n        ...state,\n        items: action.payload\n      }\n    default:\n      return state\n  }\n}","import { FETCH_USER } from '../actions/types.js'\n\nconst initialState = {\n  item: {}\n}\n\nexport default function(state = initialState, action ) {\n  switch(action.type) {\n    case FETCH_USER:\n      return {\n        ...state,\n        item: action.payload\n      }\n    default:\n      return state\n  }\n}","import { FETCH_REPLIES } from '../actions/types.js'\n\nconst initialState = {\n  items: [],\n  item: {}\n}\n\nexport default function(state = initialState, action ) {\n  switch(action.type) {\n    case FETCH_REPLIES:\n      return {\n        ...state,\n        items: action.payload\n      }\n    default:\n      return state\n  }\n}","import { combineReducers }from 'redux'\nimport commentReducer from './commentReducer'\nimport likesReducer from './likesReducer'\nimport notificationReducer from './notificationReducer'\nimport postReducer from './postReducer'\nimport usersReducer from './usersReducer'\nimport replyReducer from './replyReducer'\n\nexport default combineReducers({\n  posts: postReducer,\n  users: usersReducer,\n  comments: commentReducer,\n  replies: replyReducer,\n  notifications: notificationReducer,\n  likes: likesReducer,\n  dislikes: likesReducer\n})","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from '../reducers'\nconst initialState = {}\n\nconst middleware = [thunk]\n\nconst store = createStore(\n  rootReducer, \n  initialState,\n  compose(\n    applyMiddleware(...middleware)\n  )\n)\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './components/store.js'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n\n  document.getElementById('root')\n);\n"],"sourceRoot":""}