(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(36),a=n.n(r),c=(n(92),n(8)),o=n.n(c),i=n(11),l=n(18),u=n(9),d=n.n(u),h=n(23),j=n(25),m=n(87),p=n(27),b="FETCH_POSTS",O="FETCH_USER",f="FETCH_COMMENTS",x="FETCH_LIKES",g="FETCH_DISLIKES",v={items:[],item:{}},k={likes:[],dislikes:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(p.a)(Object(p.a)({},e),{},{likes:t.payload});case g:return Object(p.a)(Object(p.a)({},e),{},{dislikes:t.payload});default:return e}},w={items:[],item:{}},C={item:{}},S=Object(j.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{items:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(p.a)(Object(p.a)({},e),{},{item:t.payload});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(p.a)(Object(p.a)({},e),{},{items:t.payload});default:return e}},likes:y,dislikes:y}),N=[m.a],T=Object(j.e)(S,{},Object(j.d)(j.a.apply(void 0,N))),P=n(10),_=n(17),I=n(13),z=n(14),D=n(16),L=n(15),E=(n(22),n(55)),A=n(35),M=n(37),U=n(65),B=n(1),H=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(I.a)(this,n),t.call(this,e)}return Object(z.a)(n,[{key:"renderNavbarAccountOptions",value:function(){return this.props.authorization?Object(B.jsxs)(A.a,{children:[Object(B.jsx)(M.a,{children:Object(B.jsx)(A.a.Link,{as:P.b,to:"/new_post",children:"New Post"})}),Object(B.jsx)(M.a,{children:Object(B.jsx)(A.a.Link,{as:P.b,to:"/account",children:"Account"})}),Object(B.jsx)(M.a,{children:Object(B.jsx)(A.a.Link,{as:P.b,to:"/logout",children:"Logout"})})]}):Object(B.jsxs)(A.a,{children:[Object(B.jsx)(M.a,{children:Object(B.jsx)(A.a.Link,{as:P.b,to:"/login",children:"Login"})}),Object(B.jsx)(M.a,{children:Object(B.jsx)(A.a.Link,{as:P.b,to:"/register",children:"Register"})})]})}},{key:"render",value:function(){return Object(B.jsx)("div",{children:Object(B.jsx)(E.a,{expand:"md",bg:"color",variant:"dark",collapseOnSelect:!0,children:Object(B.jsxs)(U.a,{children:[Object(B.jsx)("img",{width:30,height:30,className:"zencircle",src:"https://zennitapp.s3.amazonaws.com/zencircle.png",alt:"zennit zen circle"}),Object(B.jsx)(E.a.Brand,{as:P.b,className:"mr-4",to:"/home",children:"Zennit"}),Object(B.jsx)(E.a.Toggle,{"aria-controls":"navbarToggle"}),Object(B.jsxs)(E.a.Collapse,{id:"navbarToggle",children:[Object(B.jsx)(A.a,{className:"mr-auto",children:Object(B.jsx)(M.a,{children:Object(B.jsx)(A.a.Link,{as:P.b,to:"/home",children:"Home"})})}),this.renderNavbarAccountOptions()]})]})})})}}]),n}(s.Component),R=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"About Zennit"}),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("h2",{children:"A communication platform for today's social zennist!"}),Object(B.jsx)("p",{children:"Zennit was born out of an appreciation for online social discussion regarding Zen. Many Zen-enthusiast online-communities have started in places like: reddit and discord... however, these places did not capture the type of niche online presence that is demanded of such a controversial and perturbing topic. This forum is dedicated to the rigorous discussion of Zen and its related content."}),Object(B.jsx)("p",{children:'To echo our reddit family motto: "The self-nature is originally complete!"'}),Object(B.jsx)("p",{children:"Zen, as we understand it here, was born of the Buddhist lineage of Bodhidharma, and has passed through the minds of the Song and Tang dynasty patriarchs, so as to fill our skulls with the enlightened brilliance of the true teaching of the Buddha."}),Object(B.jsx)("p",{children:"This forum is not present as an online educational resource for the history of Zen, but the users here are often willing to share their knowledge with those who seek to understand Zen's dubious past."})]})]})}}]),n}(s.Component),V=n(56),q=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(B.jsx)("div",{className:"col-md-4",children:Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("h3",{children:"Expedients"}),Object(B.jsxs)("div",{className:"text-muted",children:["Currently Under Construction",Object(B.jsxs)(V.a,{children:[Object(B.jsx)(V.a.Item,{children:Object(B.jsx)(P.b,{to:"/about",children:"About"})}),Object(B.jsx)(V.a.Item,{children:Object(B.jsx)(P.b,{to:"/rules",children:"Rules"})}),Object(B.jsx)(V.a.Item,{children:Object(B.jsx)(P.b,{to:"/resources",children:"Resources"})})]})]})]})})}}]),n}(s.Component),G=n(6),Y=n(12);function W(e){var t=Object(_.f)();function n(){return(n=Object(i.a)(o.a.mark((function e(n){var s,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t.push("/login"),s=n.target.username.value.trim(),r=n.target.email.value.trim(),a=n.target.password.value,e.prev=5,e.next=8,d()({method:"post",url:"/api/register",data:{username:s,email:r,password:a}});case 8:c=e.sent,console.log(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("legend",{className:"border-bottom mb-4",children:"Join Zennit!"}),Object(B.jsxs)(G.a,{onSubmit:function(e){return function(e){return n.apply(this,arguments)}(e)},children:[Object(B.jsxs)(G.a.Group,{controlId:"username",children:[Object(B.jsx)(G.a.Label,{children:"Username"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"username",placeholder:"Username"})]}),Object(B.jsxs)(G.a.Group,{controlId:"email",children:[Object(B.jsx)(G.a.Label,{children:"Email"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"email",placeholder:"Enter email"}),Object(B.jsx)(G.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(B.jsxs)(G.a.Group,{controlId:"password",children:[Object(B.jsx)(G.a.Label,{children:"Password"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"password",placeholder:"Password","aria-describedby":"passwordHelpBlock"}),Object(B.jsx)(G.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji."})]}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Sign Up"})]})]}),Object(B.jsx)("div",{className:"border-top pt-3",children:Object(B.jsxs)("small",{className:"text-muted",children:["Already Have An Account? ",Object(B.jsx)(P.b,{className:"ml-2",to:"/login",children:"Sign In"})]})})]})}var Z=n(20);function F(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1]),r=Object(s.useState)(!1),a=Object(l.a)(r,2),c=a[0],u=a[1],h=Object(s.useState)("warning"),j=Object(l.a)(h,2),m=j[0],p=j[1],b=Object(s.useState)("Something went wrong, please try again later!"),O=Object(l.a)(b,2),f=O[0],x=O[1],g=Object(_.f)();function v(){return(v=Object(i.a)(o.a.mark((function e(t){var s,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=t.target.email.value.trim(),r=t.target.password.value,e.prev=3,e.next=6,d()({method:"post",url:"/api/login",data:{email:s,password:r}});case 6:a=e.sent,console.log(a),200===a.status?(c=a.data.token,localStorage.setItem("token","Bearer "+c),localStorage.setItem("loginMessage",!0),n(!0),g.replace("/"),g.go("/")):(n(!1),u(!0),p("warning"),x("Something went wrong, please try again later!")),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),n(!1),console.log(e.t0.response),400===e.t0.response.status?(u(!0),p("warning"),x("Incorrect Email or Password")):(u(!0),p("danger"),x("Something went wrong, please try again later!"));case 16:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){c&&setTimeout((function(){u(!1)}),5e3)})),Object(B.jsxs)("div",{children:[function(){if(c)return Object(B.jsx)(Z.a,{variant:m,children:f})}(),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("legend",{className:"border-bottom mb-4",children:"Login"}),Object(B.jsxs)(G.a,{onSubmit:function(e){return function(e){return v.apply(this,arguments)}(e)},children:[Object(B.jsxs)(G.a.Group,{controlId:"email",children:[Object(B.jsx)(G.a.Label,{children:"Email"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"email",placeholder:"Account Email"})]}),Object(B.jsxs)(G.a.Group,{controlId:"password",children:[Object(B.jsx)(G.a.Label,{children:"Password"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"password",placeholder:"Account Password"})]}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Login"}),Object(B.jsx)("small",{className:"text-muted ml-2",children:Object(B.jsx)(P.b,{to:"/forgot_password",children:"Forgot Password?"})})]})]}),Object(B.jsx)("div",{className:"border-top pt-3",children:Object(B.jsxs)("small",{className:"text-muted",children:["Need An Account? ",Object(B.jsx)(P.b,{className:"ml-2",to:"/register",children:"Sign Up Here!"})]})})]})}function J(){var e=Object(_.f)();return Object(s.useEffect)((function(){localStorage.removeItem("token"),localStorage.removeItem("loginMessage"),e.push("/"),e.go("/")})),Object(B.jsx)("div",{})}var K=function(){return function(e){d()({method:"get",url:"/api/get_user",headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){e({type:O,payload:t.data})}))}},Q=n(26),X=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(e){var s;return Object(I.a)(this,n),(s=t.call(this,e)).state={alert:!1,alertText:"Something went wrong, please try again later!",alertType:"warning",submission:!1},s}return Object(z.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"componentDidUpdate",value:function(){var e=this;this.state.submission&&(this.props.fetchUser(),this.setState({submission:!1})),this.state.alert&&setTimeout((function(){e.setState({alert:!1})}),5e3)}},{key:"renderAlert",value:function(){var e=this.state,t=e.alert,n=e.alertText,s=e.alertType;if(t)return Object(B.jsx)(Z.a,{variant:s,children:n})}},{key:"handleSubmit",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var n,s,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.email.value.trim(),s=t.target.username.value.trim(),r=t.target.imageUpload.files[0],(a=new FormData(t.target)).append("username",s),a.append("email",n),a.append("image_file",r),e.prev=8,e.next=11,d()({headers:{"x-access-token":localStorage.getItem("token"),"Content-Type":"multipart/form-data"},method:"post",url:"/api/update_user",data:a});case 11:200===e.sent.status?this.setState({alert:!0,alertType:"success",alertText:"Successfully updated account info!",submission:!0}):this.setState({alert:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),e.t0.response?(console.log(e.t0.response),400===e.t0.response.status?this.setState({alert:!0,alertType:"danger",alertText:"There was an issue updating your information, please try again later!"}):500===e.t0.response.status&&this.setState({alert:!0})):this.setState({alert:!0});case 18:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user;return Object(B.jsxs)("div",{children:[this.renderAlert(),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsxs)(Q.a,{children:[Object(B.jsx)("img",{width:64,height:64,className:"rounded-circle account-img",src:"https://zennitapp.s3.amazonaws.com/".concat(t.image_file),alt:"Current User Profile Avatar"}),Object(B.jsxs)(Q.a.Body,{children:[Object(B.jsx)("h2",{className:"account-heading",children:t.username}),Object(B.jsx)("p",{className:"text-secondary",children:t.email})]})]}),Object(B.jsx)("legend",{className:"border-bottom mb-4",children:"Account Info"}),Object(B.jsxs)(G.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(B.jsxs)(G.a.Group,{controlId:"email",children:[Object(B.jsx)(G.a.Label,{children:"Email"}),Object(B.jsx)(G.a.Control,{size:"lg",type:"email",placeholder:"New Email"})]}),Object(B.jsxs)(G.a.Group,{controlId:"username",children:[Object(B.jsx)(G.a.Label,{children:"Username"}),Object(B.jsx)(G.a.Control,{size:"lg",type:"username",placeholder:"New Username"})]}),Object(B.jsxs)(G.a.Group,{children:[Object(B.jsx)(G.a.File,{id:"imageUpload",label:"Update Profile Picture",accept:".png, .jpg, .jpeg","aria-describedby":"imageHelpBlock",name:"image_file"}),Object(B.jsx)(G.a.Text,{id:"imagedHelpBlock",muted:!0,children:"Your image must be a common format such as: .png .jpg .jpeg"})]}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Update"})]})]})]})}}]),n}(s.Component),$=Object(h.b)((function(e){return{user:e.users.item}}),{fetchUser:K})(X),ee=n(31),te=function(){return function(e){d()({method:"get",url:"/api/posts"}).then((function(t){e({type:b,payload:t.data})}))}},ne=function(){return function(e){d()({method:"get",url:"/api/comments"}).then((function(t){e({type:f,payload:t.data})}))}},se=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(e){var s;return Object(I.a)(this,n),(s=t.call(this,e)).state={commentsViewable:4,alert:!1,alertType:"warning",alertText:"Something went wrong, please try again later!"},s}return Object(z.a)(n,[{key:"handleSubmit",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.post,s=t.target.comment.value.trim(),t.preventDefault(),e.prev=3,e.next=6,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/new_comment",data:{post_id:n,content:s}});case 6:201===e.sent.status?(this.props.fetchComments(),this.setState({alert:!0,alertType:"success",alertText:"Comment Successfully Created!"})):this.setState({alert:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response?(console.log(e.t0.response),400===e.t0.response.status?this.setState({alert:!0,alertType:"warning",alertText:"Please login to comment!"}):500===e.t0.response.status&&this.setState({alert:!0,alertType:"warning",alertText:"Something went wrong, please try again later!"})):this.setState({alert:!0,alertType:"warning",alertText:"Something went wrong, please try again later!"});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderAlert",value:function(){var e=this,t=this.state,n=t.alert,s=t.alertText,r=t.alertType;if(n)return setTimeout((function(){e.setState({alert:!1,alertType:"warning",alertText:"Please login to comment!"})}),5e3),Object(B.jsx)(Z.a,{variant:r,children:s})}},{key:"render",value:function(){var e=this,t=this.props.user;return Object(B.jsxs)("div",{children:[this.renderAlert(),Object(B.jsxs)(Q.a,{children:[Object(B.jsx)("img",{className:"rounded-circle article-img",src:"https://zennitapp.s3.amazonaws.com/".concat(t.image_file),alt:"current user"}),Object(B.jsxs)(G.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(B.jsx)(G.a.Group,{controlId:"comment",children:Object(B.jsx)(G.a.Control,{required:!0,as:"textarea",size:"md",cols:"55",type:"comment",placeholder:"Expound the dharma..."})}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Comment"})]})]})]})}}]),n}(s.Component),re=Object(h.b)((function(e){return{comments:e.comments.items}}),{fetchComments:ne})(se),ae=n(45),ce=n(44);var oe=Object(h.b)((function(e){return{likes:e.likes.likes,dislikes:e.likes.dislikes,user:e.users.item}}),{fetchLikes:function(){return function(e){d()({method:"get",url:"/api/likes"}).then((function(t){e({type:x,payload:t.data})}))}},fetchDislikes:function(){return function(e){d()({method:"get",url:"/api/dislikes"}).then((function(t){e({type:g,payload:t.data})}))}},fetchUser:K})((function(e){var t=e.likes,n=e.dislikes,r=e.user,a=e.post,c=t.filter((function(e){if(e.user_id===r.id&&e.post_id===a)return!0})),l=n.filter((function(e){if(e.user_id===r.id&&e.post_id===a)return!0}));function u(){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(o.a.mark((function t(){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.post,s=e.fetchLikes,r=e.fetchDislikes,0!==Object.keys(c).length&&0===Object.keys(l).length){t.next=12;break}return t.prev=2,t.next=5,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/add_like",data:{post_id:n}});case 5:201===t.sent.status&&(s(),r(),K()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:if(0===Object.keys(c).length){t.next=23;break}return t.prev=13,t.next=16,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/remove_like"});case 16:200===t.sent.status&&(s(),r(),K()),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(13),console.log(t.t1);case 23:if(0===Object.keys(l).length){t.next=34;break}return t.prev=24,t.next=27,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/remove_dislike"});case 27:200===t.sent.status&&(s(),r(),K()),t.next=34;break;case 31:t.prev=31,t.t2=t.catch(24),console.log(t.t2);case 34:case"end":return t.stop()}}),t,null,[[2,9],[13,20],[24,31]])})))).apply(this,arguments)}function j(){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(o.a.mark((function t(){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.post,s=e.fetchLikes,r=e.fetchDislikes,0!==Object.keys(l).length&&0===Object.keys(c).length){t.next=12;break}return t.prev=2,t.next=5,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/add_dislike",data:{post_id:n}});case 5:201===t.sent.status&&(s(),r(),K()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:if(0===Object.keys(l).length){t.next=23;break}return t.prev=13,t.next=16,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/remove_dislike"});case 16:200===t.sent.status&&(s(),r(),K()),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(13),console.log(t.t1);case 23:if(0===Object.keys(c).length){t.next=34;break}return t.prev=24,t.next=27,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/remove_like"});case 27:200===t.sent.status&&(s(),r(),K()),t.next=34;break;case 31:t.prev=31,t.t2=t.catch(24),console.log(t.t2);case 34:case"end":return t.stop()}}),t,null,[[2,9],[13,20],[24,31]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){e.likes,e.dislikes;var t=e.fetchLikes,n=e.fetchDislikes;t(),n(),K()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{style:{margin:"17px"},children:function(){var t=e.likes,n=e.dislikes,s=e.post,r=t.filter((function(e){if(e.post_id==s)return!0})),a=n.filter((function(e){if(e.post_id==s)return!0}));return r.length-a.length}()}),0!==Object.keys(c).length?Object(B.jsxs)("div",{className:"like-buttons",children:[Object(B.jsx)("div",{style:{color:"purple"},onClick:function(){return u()},children:Object(B.jsx)(ae.a,{icon:ce.b,size:"2x"})}),Object(B.jsx)("div",{onClick:function(){return j()},children:Object(B.jsx)(ae.a,{icon:ce.a,size:"2x"})})]}):0!==Object.keys(l).length?Object(B.jsxs)("div",{className:"like-buttons",children:[Object(B.jsx)("div",{onClick:function(){return u()},children:Object(B.jsx)(ae.a,{icon:ce.b,size:"2x"})}),Object(B.jsx)("div",{style:{color:"purple"},onClick:function(){return j()},children:Object(B.jsx)(ae.a,{icon:ce.a,size:"2x"})})]}):Object(B.jsxs)("div",{className:"like-buttons",children:[Object(B.jsx)("div",{onClick:function(){return u()},children:Object(B.jsx)(ae.a,{icon:ce.b,size:"2x"})}),Object(B.jsx)("div",{onClick:function(){return j()},children:Object(B.jsx)(ae.a,{icon:ce.a,size:"2x"})})]})]})})),ie=function(e){Object(D.a)(s,e);var t=Object(L.a)(s);function s(e){var n;return Object(I.a)(this,s),(n=t.call(this,e)).state={postsViewable:4,commentsViewable:4,userIs:!1},n}return Object(z.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchPosts,n=e.fetchComments;t(),n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.user,s=t.fetchUser,r=(t.fetchComments,t.authorization);t.comments;e.authorization!==r&&s(),e.user!==n&&this.renderNewComment()}},{key:"renderDatePosted",value:function(e){var t=n(71)(e).format("dddd, MMMM Do YYYY, h:mm:ss a");return Object(B.jsx)("small",{className:"text-muted",children:t})}},{key:"renderArticleContent",value:function(e,t){return e.length>1e3?Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{className:"article-content",children:e.substr(0,1e3)}),Object(B.jsx)(ee.a,{className:"mr-2",to:"/post/".concat(t),children:"Read More"})]}):Object(B.jsx)("div",{children:Object(B.jsx)("p",{className:"article-content",children:e})})}},{key:"handleDeleteComment",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/delete_comment",data:{comment_id:t}});case 3:200===e.sent.status&&this.props.fetchComments(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderNewComment",value:function(e){var t=this.props.user;if(0!==Object.keys(t).length)return Object(B.jsx)(re,{post:e,user:t})}},{key:"renderCommentsLength",value:function(e){var t=this.props.comments.filter((function(t){if(t.post_id==e)return!0}));return Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsxs)(ee.a,{to:"/post/".concat(e,"#comment-length"),children:["Comments(",t.length,")"]})})}},{key:"renderCommentEditButtons",value:function(e,t){var n=this;if(this.props.user.username===e&&localStorage.getItem("token"))return Object(B.jsx)(Y.a,{className:"ml-auto delete-comment",onClick:function(){return n.handleDeleteComment(t)},variant:"outline-danger",size:"sm",children:Object(B.jsx)("span",{children:"\xd7"})})}},{key:"renderComments",value:function(e){var t=this,n=this.props.comments,s=this.state.commentsViewable;return n.filter((function(t){if(t.post_id==e)return!0})).map((function(e){return Object(B.jsx)("div",{children:Object(B.jsxs)("div",{className:"comment-content",children:[Object(B.jsxs)("div",{className:"comment-head",children:[Object(B.jsx)(ee.a,{className:"mr-2",to:"/user_posts/".concat(e["user.username"]),children:e["user.username"]}),t.renderDatePosted(e.date_posted),t.renderCommentEditButtons(e["user.username"],e.id)]}),Object(B.jsx)("hr",{}),Object(B.jsx)("p",{className:"article-content",children:e.content})]})},e.id)})).slice(0,s)}},{key:"renderProfileImage",value:function(e){return Object(B.jsx)("img",{className:"rounded-circle article-img",src:"https://zennitapp.s3.amazonaws.com/".concat(e),alt:""})}},{key:"renderLikeButtons",value:function(e){var t=this.props.user;if(0!==Object.keys(t).length)return Object(B.jsx)(oe,{post:e.id})}},{key:"renderPostContent",value:function(){var e=this,t=this.state.postsViewable;return this.props.posts.map((function(t){return Object(B.jsxs)("div",{children:[Object(B.jsxs)(Q.a,{className:"content-section",children:[Object(B.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[e.renderProfileImage(t["user.image_file"]),e.renderLikeButtons(t)]}),Object(B.jsxs)(Q.a.Body,{children:[Object(B.jsxs)("div",{className:"article-metadata",children:[Object(B.jsx)(ee.a,{className:"mr-2",to:"/user_posts/".concat(t["user.username"]),children:t["user.username"]}),e.renderDatePosted(t.date_posted)]}),Object(B.jsx)("h2",{children:Object(B.jsx)(ee.a,{className:"article-title",to:"/post/".concat(t.id),children:t.title})}),e.renderArticleContent(t.content,t.id)]})]}),e.renderCommentsLength(t.id),e.renderComments(t.id),e.renderNewComment(t.id),Object(B.jsx)("hr",{})]},t.id)})).slice(0,t)}},{key:"renderMorePosts",value:function(e){var t=e.target,n=this.state.postsViewable,s=this.props.posts;t.scrollHeight-t.scrollTop===t.clientHeight&&n!==s.length&&this.setState({postsViewable:n+2},(function(){console.log(n)}))}},{key:"render",value:function(){var e=this;return Object(B.jsx)("div",{className:"scrolling",onScroll:function(t){return e.renderMorePosts(t)},children:this.renderPostContent()})}}]),s}(s.Component),le=Object(h.b)((function(e){return{posts:e.posts.items,user:e.users.item,comments:e.comments.items}}),{fetchPosts:te,fetchUser:K,fetchComments:ne})(ie),ue=function(e){Object(D.a)(s,e);var t=Object(L.a)(s);function s(e){var n;return Object(I.a)(this,s),(n=t.call(this,e)).state={postsViewable:4,commentsViewable:4,userIs:!1},n}return Object(z.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchPosts,n=e.fetchComments;t(),n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.user,s=t.fetchUser,r=(t.fetchComments,t.authorization);t.comments;e.authorization!==r&&s(),e.user!==n&&this.renderNewComment()}},{key:"renderDatePosted",value:function(e){var t=n(71)(e).format("dddd, MMMM Do YYYY, h:mm:ss a");return Object(B.jsx)("small",{className:"text-muted",children:t})}},{key:"renderArticleContent",value:function(e,t){return e.length>1e3?Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{className:"article-content",children:e.substr(0,1e3)}),Object(B.jsx)(ee.a,{className:"mr-2",to:"/post/".concat(t),children:"Read More"})]}):Object(B.jsx)("div",{children:Object(B.jsx)("p",{className:"article-content",children:e})})}},{key:"handleDeleteComment",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/delete_comment",data:{comment_id:t}});case 3:200===e.sent.status&&this.props.fetchComments(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderNewComment",value:function(e){var t=this.props.user;if(0!==Object.keys(t).length)return Object(B.jsx)(re,{post:e,user:t})}},{key:"renderCommentsLength",value:function(e){var t=this.props.comments.filter((function(t){if(t.post_id==e)return!0}));return Object(B.jsx)("div",{className:"mb-3",children:Object(B.jsxs)(ee.a,{to:"/post/".concat(e,"#comment-length"),children:["Comments(",t.length,")"]})})}},{key:"renderCommentEditButtons",value:function(e,t){var n=this;if(this.props.user.username===e&&localStorage.getItem("token"))return Object(B.jsx)(Y.a,{className:"ml-auto delete-comment",onClick:function(){return n.handleDeleteComment(t)},variant:"outline-danger",size:"sm",children:Object(B.jsx)("span",{children:"\xd7"})})}},{key:"renderComments",value:function(e){var t=this,n=this.props.comments,s=this.state.commentsViewable;return n.filter((function(t){if(t.post_id==e)return!0})).map((function(e){return Object(B.jsx)("div",{children:Object(B.jsxs)("div",{className:"comment-content",children:[Object(B.jsxs)("div",{className:"comment-head",children:[Object(B.jsx)(ee.a,{className:"mr-2",to:"/user_posts/".concat(e["user.username"]),children:e["user.username"]}),t.renderDatePosted(e.date_posted),t.renderCommentEditButtons(e["user.username"],e.id)]}),Object(B.jsx)("hr",{}),Object(B.jsx)("p",{className:"article-content",children:e.content})]})},e.id)})).slice(0,s)}},{key:"renderProfileImage",value:function(e){return Object(B.jsx)("img",{className:"rounded-circle article-img",src:"https://zennitapp.s3.amazonaws.com/".concat(e),alt:""})}},{key:"renderPostContent",value:function(){var e=this,t=this.state.postsViewable,n=this.props.match.params.username;return this.props.posts.filter((function(e){if(e["user.username"]===n)return!0})).map((function(t){return Object(B.jsxs)("div",{children:[Object(B.jsxs)(Q.a,{className:"content-section",children:[e.renderProfileImage(t["user.image_file"]),Object(B.jsxs)(Q.a.Body,{children:[Object(B.jsxs)("div",{className:"article-metadata",children:[Object(B.jsx)(ee.a,{className:"mr-2",to:"/user_posts/".concat(t["user.username"]),children:t["user.username"]}),e.renderDatePosted(t.date_posted)]}),Object(B.jsx)("h2",{children:Object(B.jsx)(ee.a,{className:"article-title",to:"/post/".concat(t.id),children:t.title})}),e.renderArticleContent(t.content,t.id)]})]}),e.renderCommentsLength(t.id),e.renderComments(t.id),e.renderNewComment(t.id),Object(B.jsx)("hr",{})]},t.id)})).slice(0,t)}},{key:"renderMorePosts",value:function(e){var t=e.target,n=this.state.postsViewable,s=this.props.posts;t.scrollHeight-t.scrollTop===t.clientHeight&&n!==s.length&&this.setState({postsViewable:n+2},(function(){console.log(n)}))}},{key:"render",value:function(){var e=this;return Object(B.jsx)("div",{className:"scrolling",onScroll:function(t){return e.renderMorePosts(t)},children:this.renderPostContent()})}}]),s}(s.Component),de=Object(j.d)(_.h,Object(h.b)((function(e){return{posts:e.posts.items,user:e.users.item,comments:e.comments.items}}),{fetchPosts:te,fetchUser:K,fetchComments:ne}))(ue),he=n(49),je=function(e){Object(D.a)(s,e);var t=Object(L.a)(s);function s(e){var n;return Object(I.a)(this,s),(n=t.call(this,e)).state={modalToggle:!1,alert:!1,alertText:"Something went wrong, please try again later!",alertType:"warning",commentsViewable:4,userIs:!1},n}return Object(z.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchPosts,n=e.fetchComments;t(),n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.user,s=t.fetchUser,r=(t.fetchComments,t.authorization);t.comments;e.authorization!==r&&s(),e.user!==n&&this.renderNewComment()}},{key:"renderAlert",value:function(){var e=this.state,t=e.alert,n=e.alertType,s=e.alertText;if(t)return Object(B.jsx)(Z.a,{variant:n,children:s})}},{key:"handleModalToggle",value:function(){var e=this.state.modalToggle;this.setState({modalToggle:!e})}},{key:"handleDeletePost",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/delete_post",data:{post_id:t}});case 4:n=e.sent,console.log(n),200===n.status?(localStorage.setItem("deletePost",!0),this.props.history.replace("/")):this.setState({alert:!0}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),this.setState({alert:!0});case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderDatePosted",value:function(e){var t=n(71)(e).format("dddd, MMMM Do YYYY, h:mm:ss a");return Object(B.jsx)("small",{className:"text-muted",children:t})}},{key:"handleDeleteComment",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/delete_comment",data:{comment_id:t}});case 3:200===e.sent.status&&this.props.fetchComments(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderNewComment",value:function(e){var t=this.props.user;if(0!==Object.keys(t).length)return Object(B.jsx)(re,{post:e,user:t})}},{key:"renderCommentsLength",value:function(e){var t=this.props.comments.filter((function(t){if(t.post_id==e)return!0}));return Object(B.jsxs)("p",{id:"comment-length",children:["Comments(",t.length,")"]})}},{key:"renderCommentEditButtons",value:function(e,t){var n=this;if(this.props.user.username===e&&localStorage.getItem("token"))return Object(B.jsx)(Y.a,{className:"ml-auto delete-comment",onClick:function(){return n.handleDeleteComment(t)},variant:"outline-danger",size:"sm",children:Object(B.jsx)("span",{children:"\xd7"})})}},{key:"renderComments",value:function(e){var t=this,n=this.props.comments;this.state.commentsViewable;return n.filter((function(t){if(t.post_id==e)return!0})).map((function(e){return Object(B.jsx)("div",{children:Object(B.jsxs)("div",{className:"comment-content",children:[Object(B.jsxs)("div",{className:"comment-head",id:"comment-head",children:[Object(B.jsx)(P.b,{className:"mr-2",to:"/user_posts/".concat(e["user.username"]),children:e["user.username"]}),t.renderDatePosted(e.date_posted),t.renderCommentEditButtons(e["user.username"],e.id)]}),Object(B.jsx)("hr",{}),Object(B.jsx)("p",{className:"article-content",children:e.content})]})},e.id)}))}},{key:"renderProfileImage",value:function(e){return Object(B.jsx)("img",{className:"rounded-circle article-img",src:"https://zennitapp.s3.amazonaws.com/".concat(e),alt:""})}},{key:"renderEditButtons",value:function(e){var t=this,n=this.props.user.username,s=this.props.match.params.id;if(n===e&&localStorage.getItem("token"))return Object(B.jsxs)("div",{children:[Object(B.jsx)(Y.a,{as:P.b,className:"mt-1 mb-1",size:"sm",to:"/update/post/".concat(s),children:"Update"}),Object(B.jsx)(Y.a,{onClick:function(){return t.handleModalToggle()},className:"m-1",variant:"danger",size:"sm",children:"Delete"})]})}},{key:"renderPostContent",value:function(){var e=this,t=this.props.match.params.id;return this.props.posts.filter((function(e){if(e.id==t)return!0})).map((function(t){return Object(B.jsxs)("div",{children:[Object(B.jsxs)(Q.a,{className:"content-section",children:[e.renderProfileImage(t["user.image_file"]),Object(B.jsxs)(Q.a.Body,{children:[Object(B.jsxs)("div",{className:"article-metadata",children:[Object(B.jsx)(P.b,{className:"mr-2",to:"/user_posts/".concat(t["user.username"]),children:t["user.username"]}),e.renderDatePosted(t.date_posted),e.renderEditButtons(t["user.username"])]}),Object(B.jsx)("h2",{children:Object(B.jsx)(P.b,{className:"article-title",to:"/post/".concat(t.id),children:t.title})}),Object(B.jsx)("p",{className:"article-content",children:t.content})]})]}),e.renderCommentsLength(t.id),e.renderComments(t.id),e.renderNewComment(t.id),Object(B.jsx)("hr",{})]},t.id)}))}},{key:"render",value:function(){var e=this,t=this.state.modalToggle;return Object(B.jsxs)("div",{children:[this.renderAlert(),this.renderPostContent(),Object(B.jsx)(he.a,{className:"fade",show:t,children:Object(B.jsxs)(he.a.Dialog,{children:[Object(B.jsxs)(he.a.Header,{children:[Object(B.jsx)(he.a.Title,{children:"Delete Post?"}),Object(B.jsx)(Y.a,{onClick:function(){return e.handleModalToggle()},variant:"close",children:Object(B.jsx)("span",{children:"\xd7"})})]}),Object(B.jsxs)(he.a.Footer,{children:[Object(B.jsx)(Y.a,{onClick:function(){return e.handleModalToggle()},variant:"secondary",children:"Close"}),Object(B.jsx)(Y.a,{onClick:function(){return e.handleDeletePost()},variant:"danger",value:"delete",type:"submit",children:"Delete"})]})]})})]})}}]),s}(s.Component),me=Object(j.d)(_.h,Object(h.b)((function(e){return{posts:e.posts.items,user:e.users.item,comments:e.comments.items}}),{fetchPosts:te,fetchUser:K,fetchComments:ne}))(je);function pe(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)("Something went wrong, please try again later!"),c=Object(l.a)(a,2),u=c[0],h=(c[1],Object(_.f)());function j(){return(j=Object(i.a)(o.a.mark((function e(t){var n,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.title.value.trim(),s=t.target.content.value.trim(),e.prev=3,e.next=6,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/new_post",data:{title:n,content:s}});case 6:a=e.sent,console.log(a),201===a.status?(localStorage.setItem("newPost",!0),h.replace("/")):r(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.response),r(!0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){n&&n&&setTimeout((function(){r(!1)}),5e3)})),Object(B.jsxs)("div",{children:[function(){if(n)return Object(B.jsx)(Z.a,{variant:"danger",children:u})}(),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("legend",{className:"border-bottom mb-4",children:"New Post"}),Object(B.jsxs)(G.a,{onSubmit:function(e){return function(e){return j.apply(this,arguments)}(e)},children:[Object(B.jsxs)(G.a.Group,{controlId:"title",children:[Object(B.jsx)(G.a.Label,{children:"Title"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"title",placeholder:"Post Title"})]}),Object(B.jsxs)(G.a.Group,{controlId:"content",children:[Object(B.jsx)(G.a.Label,{children:"Content"}),Object(B.jsx)(G.a.Control,{required:!0,as:"textarea",rows:"10",size:"lg",type:"content",placeholder:"Post Content"})]}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Post"})]})]})]})}var be=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(e){var s;return Object(I.a)(this,n),(s=t.call(this,e)).state={modalToggle:!1,alert:!1,alertText:"Something went wrong, please try again later!",alertType:"warning"},s}return Object(z.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchPosts(),this.props.fetchUser()}},{key:"componentDidUpdate",value:function(){var e=this;this.state.alert&&setTimeout((function(){e.setState({alert:!1})}),5e3)}},{key:"renderAlert",value:function(){var e=this.state,t=e.alert,n=e.alertType,s=e.alertText;if(t)return Object(B.jsx)(Z.a,{variant:n,children:s})}},{key:"handleUpdatePost",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var n,s,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.match.params.id,s=t.target.title.value.trim(),r=t.target.content.value.trim(),e.prev=4,e.next=7,d()({headers:{"x-access-token":localStorage.getItem("token")},method:"post",url:"/api/update_post",data:{title:s,content:r,post_id:n}});case 7:a=e.sent,console.log(a),200===a.status?(localStorage.setItem("updatePost",!0),this.props.history.replace("/")):this.setState({alert:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0.response),this.setState({alert:!0});case 16:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderPostContent",value:function(){var e=this,t=this.props.match.params.id;return this.props.posts.filter((function(e){if(e.id==t)return!0})).map((function(t){return Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("legend",{className:"border-bottom mb-4",children:t.title}),Object(B.jsxs)(G.a,{onSubmit:function(t){return e.handleUpdatePost(t)},children:[Object(B.jsxs)(G.a.Group,{controlId:"title",children:[Object(B.jsx)(G.a.Label,{children:"Title"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"title",defaultValue:t.title})]}),Object(B.jsxs)(G.a.Group,{controlId:"content",children:[Object(B.jsx)(G.a.Label,{children:"Content"}),Object(B.jsx)(G.a.Control,{required:!0,as:"textarea",rows:"10",size:"lg",type:"content",defaultValue:t.content})]}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Update"})]})]},t.id)}))}},{key:"render",value:function(){return Object(B.jsxs)("div",{children:[this.renderAlert(),this.renderPostContent()]})}}]),n}(s.Component),Oe=Object(j.d)(_.h,Object(h.b)((function(e){return{posts:e.posts.items,user:e.users.item}}),{fetchPosts:te,fetchUser:K}))(be);function fe(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1],Object(s.useState)(!1)),r=Object(l.a)(n,2),a=r[0],c=r[1],u=Object(s.useState)("Something went wrong, please try again later!"),h=Object(l.a)(u,2),j=h[0],m=h[1],p=Object(s.useState)("warning"),b=Object(l.a)(p,2),O=b[0],f=b[1];Object(_.f)();function x(){return(x=Object(i.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.email.value.trim(),e.prev=2,e.next=5,d()({method:"post",url:"/api/request_reset_email",data:{email:n}});case 5:s=e.sent,console.log(s),200===s.status?(c(!0),f("success"),m("Request Sent! Check Email For Password Reset Link!")):(c(!0),f("warning"),m("Something Went Wrong, Please Try Again Later!")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response),400===e.t0.response.status?(c(!0),f("warning"),m("No User Found By This Email! Try Again!")):(c(!0),f("danger"),m("Something Went Wrong, Please Try Again Later!"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){a&&setTimeout((function(){c(!1)}),9e3)})),Object(B.jsxs)("div",{children:[function(){if(a)return Object(B.jsx)(Z.a,{variant:O,children:j})}(),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("legend",{className:"border-bottom mb-4",children:"Reset Password"}),Object(B.jsxs)(G.a,{onSubmit:function(e){return function(e){return x.apply(this,arguments)}(e)},children:[Object(B.jsxs)(G.a.Group,{controlId:"email",children:[Object(B.jsx)(G.a.Label,{children:"Email"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"email",placeholder:"Account Email"})]}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Request Password Reset"})]})]})]})}function xe(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)("Something went wrong, please try again later!"),c=Object(l.a)(a,2),u=c[0],h=c[1],j=Object(s.useState)("warning"),m=Object(l.a)(j,2),p=m[0],b=m[1],O=(Object(_.f)(),Object(_.g)().token);function f(){return(f=Object(i.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.password.value,e.prev=2,e.next=5,d()({method:"post",url:"/api/reset_password",data:{password:n,token:O}});case 5:s=e.sent,console.log(s),200===s.status?(r(!0),b("success"),h("Password Has Been Reset!")):(r(!0),b("warning"),h("Something Went Wrong, Please Try Again Later!")),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),r(!0),b("danger"),h("Something Went Wrong, Please Try Again Later!");case 16:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){n&&setTimeout((function(){r(!1)}),5e3)})),Object(B.jsxs)("div",{children:[function(){if(n)return Object(B.jsx)(Z.a,{variant:p,children:u})}(),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("legend",{className:"border-bottom mb-4",children:"New Password"}),Object(B.jsxs)(G.a,{onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},children:[Object(B.jsxs)(G.a.Group,{controlId:"password",children:[Object(B.jsx)(G.a.Label,{children:"New Password"}),Object(B.jsx)(G.a.Control,{required:!0,size:"lg",type:"password",placeholder:"New Password"})]}),Object(B.jsx)(Y.a,{variant:"outline-info",type:"submit",children:"Reset Password"})]})]})]})}var ge=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Rules"}),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("h2",{children:"1. No Spam / Advertising / Self-promotion in the forums"}),Object(B.jsx)("p",{children:"This forum defines spam as: unsolicited advertisement for goods, services and/or other web sites, or posts with little, or completely unrelated content. Do not spam the forums with links to your site or product, or try to self-promote your website, business or forums etc."}),Object(B.jsx)("h2",{children:"2. Respect"}),Object(B.jsx)("p",{children:"All posts should be professional and courteous. You have every right to disagree with your fellow community members and explain your perspective. However, you are not free to attack, degrade, insult, or otherwise belittle them or the quality of this community."}),Object(B.jsx)("hr",{}),Object(B.jsx)("small",{children:"These rules are subject to change at any time when we feel it is needed. Please check here in case of changes to these rules."})]})]})}}]),n}(s.Component),ve=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Resources"}),Object(B.jsxs)("div",{className:"content-section",children:[Object(B.jsx)("a",{href:"https://en.wikipedia.org/wiki/Zen",children:"Wikipedia (zen)"}),Object(B.jsx)("br",{}),Object(B.jsx)("a",{href:"https://zenmarrow.com/",children:"ZenMarrow"}),Object(B.jsx)("br",{}),Object(B.jsx)("a",{href:"https://www.reddit.com/r/zen/",children:"Reddit r/zen"}),Object(B.jsx)("br",{}),Object(B.jsx)("a",{href:"https://terebess.hu/zen/index.html",children:"Terebess"})]})]})}}]),n}(s.Component),ke=n(73);var ye=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!1),c=Object(l.a)(a,2),u=c[0],j=c[1],m=Object(s.useState)("Welcome!"),p=Object(l.a)(m,2),b=p[0],O=p[1],f=localStorage.getItem("loginMessage"),x=localStorage.getItem("token");function g(){return(g=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=4;break}r(!1),e.next=15;break;case 4:return e.prev=4,e.next=7,d()({method:"get",url:"/api/verify_jwt",headers:{"x-access-token":localStorage.getItem("token")}});case 7:200===e.sent.status?(r(!0),j(!0),O("Login Successful! Welcome Back!")):(console.log("Token is invalid"),localStorage.removeItem("token")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("could not connect to authorization check"),localStorage.removeItem("token");case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[n||!x]),Object(B.jsx)(h.a,{store:T,children:Object(B.jsx)(P.a,{children:Object(B.jsxs)("div",{className:"main-body",children:[Object(B.jsx)(H,{authorization:n}),Object(B.jsx)(U.a,{children:Object(B.jsxs)(ke.a,{children:[Object(B.jsxs)("div",{className:"col-md-8",children:[function(){if(u&&n&&f)return setTimeout((function(){j(!1),O("Welcome!"),localStorage.removeItem("loginMessage")}),5e3),Object(B.jsx)(Z.a,{className:"alert-home",variant:"success",children:b})}(),Object(B.jsxs)(_.c,{children:[Object(B.jsx)(_.a,{exact:!0,path:"/",children:Object(B.jsx)(le,{authorization:n})}),Object(B.jsx)(_.a,{path:"/home",children:Object(B.jsx)(le,{authorization:n})}),Object(B.jsx)(_.a,{path:"/user_posts/:username",children:Object(B.jsx)(de,{authorization:n})}),Object(B.jsx)(_.a,{path:"/post/:id",children:Object(B.jsx)(me,{authorization:n})}),Object(B.jsx)(_.a,{path:"/update/post/:id",children:Object(B.jsx)(Oe,{})}),Object(B.jsx)(_.a,{path:"/about",children:Object(B.jsx)(R,{})}),Object(B.jsx)(_.a,{path:"/rules",children:Object(B.jsx)(ge,{})}),Object(B.jsx)(_.a,{path:"/resources",children:Object(B.jsx)(ve,{})}),Object(B.jsx)(_.a,{path:"/account",children:Object(B.jsx)($,{})}),Object(B.jsx)(_.a,{path:"/forgot_password",children:Object(B.jsx)(fe,{})}),Object(B.jsx)(_.a,{path:"/reset_password/:token",children:Object(B.jsx)(xe,{})}),Object(B.jsx)(_.a,{path:"/register",children:Object(B.jsx)(W,{})}),Object(B.jsx)(_.a,{path:"/new_post",children:Object(B.jsx)(pe,{})}),Object(B.jsx)(_.a,{path:"/login",children:Object(B.jsx)(F,{})}),Object(B.jsx)(_.a,{path:"/logout",children:Object(B.jsx)(J,{})})]})]}),Object(B.jsx)(q,{})]})})]})})})};a.a.render(Object(B.jsx)(ye,{}),document.getElementById("root"))},22:function(e,t,n){},92:function(e,t,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.65d75e09.chunk.js.map